[
  {
    "description": "Applies an instantaneous force vector attribute to the velocity attribute. Then updates position based on velocity.",
    "edges": {
      "075f1p2": {
        "as": "parameters",
        "from": "075f1p2",
        "to": "x1qfkj5"
      },
      "0r6tegq": {
        "as": "point_data",
        "from": "0r6tegq",
        "to": "ybchlmp"
      },
      "1ml8owh": {
        "as": "geo",
        "from": "1ml8owh",
        "to": "mxtzrgw"
      },
      "1p4un67": {
        "as": "pred",
        "from": "1p4un67",
        "to": "jbksi5w"
      },
      "4e7el0h": {
        "as": "value",
        "from": "4e7el0h",
        "to": "wli26lm"
      },
      "4extjs8": {
        "as": "props",
        "from": "4extjs8",
        "to": "sbvh6lz"
      },
      "4z88cxg": {
        "as": "force",
        "from": "4z88cxg",
        "to": "l1vv7k7"
      },
      "58bh5c0": {
        "as": "onpointerup",
        "from": "58bh5c0",
        "to": "4extjs8"
      },
      "5e0bf11": {
        "as": "args",
        "from": "5e0bf11",
        "to": "glfw0eh"
      },
      "7w9wh4j": {
        "as": "feedback",
        "from": "7w9wh4j",
        "to": "mxtzrgw"
      },
      "aqt67la": {
        "as": "_reset",
        "from": "aqt67la",
        "to": "5e0bf11"
      },
      "cz9i2yg": {
        "as": "damp",
        "from": "cz9i2yg",
        "to": "l1vv7k7"
      },
      "e20k3gp": {
        "as": "fn",
        "from": "e20k3gp",
        "to": "gktb1wh"
      },
      "eml4hhq": {
        "as": "false",
        "from": "eml4hhq",
        "to": "vkhfnnr"
      },
      "gktb1wh": {
        "as": "onpointerdown",
        "from": "gktb1wh",
        "to": "4extjs8"
      },
      "gwwua2v": {
        "as": "vel",
        "from": "gwwua2v",
        "to": "m8gbhg4"
      },
      "h54ggah": {
        "as": "feedback",
        "from": "h54ggah",
        "to": "maa23w3"
      },
      "i24kuyf": {
        "as": "point_data",
        "from": "i24kuyf",
        "to": "075f1p2"
      },
      "jbksi5w": {
        "as": "geo",
        "from": "jbksi5w",
        "to": "maa23w3"
      },
      "l1kmaw2": {
        "as": "geo",
        "from": "l1kmaw2",
        "to": "1p4un67"
      },
      "l1vv7k7": {
        "as": "fn",
        "from": "l1vv7k7",
        "to": "x1qfkj5"
      },
      "m8gbhg4": {
        "as": "fn",
        "from": "m8gbhg4",
        "to": "y2q8yw8"
      },
      "maa23w3": {
        "as": "true",
        "from": "maa23w3",
        "to": "vkhfnnr"
      },
      "mxtzrgw": {
        "as": "true",
        "from": "mxtzrgw",
        "to": "jbksi5w"
      },
      "nlvb6of": {
        "as": "false",
        "from": "nlvb6of",
        "to": "jbksi5w"
      },
      "ohqi2xw": {
        "as": "fn",
        "from": "ohqi2xw",
        "to": "mxtzrgw"
      },
      "pc0o532": {
        "as": "value",
        "from": "pc0o532",
        "to": "q039pey"
      },
      "ph6kqoj": {
        "as": "reset",
        "from": "ph6kqoj",
        "to": "h54ggah"
      },
      "q039pey": {
        "as": "value",
        "from": "q039pey",
        "to": "uy2lf6r"
      },
      "q2qyjhl": {
        "as": "v",
        "from": "q2qyjhl",
        "to": "l1vv7k7"
      },
      "qfl0o45": {
        "as": "pos",
        "from": "qfl0o45",
        "to": "m8gbhg4"
      },
      "qqosk8y": {
        "as": "children",
        "from": "qqosk8y",
        "to": "sbvh6lz"
      },
      "rw70t8y": {
        "as": "geo",
        "from": "rw70t8y",
        "to": "wxtf2fm"
      },
      "sbvh6lz": {
        "as": "display",
        "from": "sbvh6lz",
        "to": "glfw0eh"
      },
      "srnm0s1": {
        "as": "fn",
        "from": "srnm0s1",
        "to": "58bh5c0"
      },
      "szm37b8": {
        "as": "publish",
        "from": "szm37b8",
        "to": "aqt67la"
      },
      "u02akgh": {
        "as": "fn",
        "from": "u02akgh",
        "to": "maa23w3"
      },
      "uy2lf6r": {
        "as": "args",
        "from": "uy2lf6r",
        "to": "gktb1wh"
      },
      "v7tihvn": {
        "as": "reset",
        "from": "v7tihvn",
        "to": "7w9wh4j"
      },
      "vkhfnnr": {
        "as": "value",
        "from": "vkhfnnr",
        "to": "glfw0eh"
      },
      "wli26lm": {
        "as": "args",
        "from": "wli26lm",
        "to": "58bh5c0"
      },
      "wxtf2fm": {
        "as": "pred",
        "from": "wxtf2fm",
        "to": "vkhfnnr"
      },
      "x1qfkj5": {
        "as": "runnable",
        "from": "x1qfkj5",
        "to": "ohqi2xw"
      },
      "y2q8yw8": {
        "as": "runnable",
        "from": "y2q8yw8",
        "to": "u02akgh"
      },
      "ybchlmp": {
        "as": "parameters",
        "from": "ybchlmp",
        "to": "y2q8yw8"
      },
      "yjgf8l3": {
        "as": "value",
        "from": "yjgf8l3",
        "to": "4e7el0h"
      }
    },
    "id": "@three.applyForce",
    "name": "@three.applyForce",
    "nodes": {
      "075f1p2": {
        "id": "075f1p2"
      },
      "0r6tegq": {
        "id": "0r6tegq"
      },
      "1ml8owh": {
        "id": "1ml8owh",
        "ref": "arg",
        "value": "geo"
      },
      "1p4un67": {
        "id": "1p4un67",
        "ref": "@js.script",
        "value": "return geo.hasAttribute(\"force\")"
      },
      "4e7el0h": {
        "id": "4e7el0h",
        "ref": "@debug.log",
        "value": "opu"
      },
      "4extjs8": {
        "id": "4extjs8"
      },
      "4z88cxg": {
        "id": "4z88cxg",
        "ref": "arg",
        "value": "point_data.force"
      },
      "58bh5c0": {
        "id": "58bh5c0",
        "ref": "@flow.ap"
      },
      "5e0bf11": {
        "id": "5e0bf11"
      },
      "7w9wh4j": {
        "id": "7w9wh4j",
        "ref": "@js.script",
        "value": "return !reset"
      },
      "aqt67la": {
        "id": "aqt67la",
        "ref": "@memory.state"
      },
      "cz9i2yg": {
        "id": "cz9i2yg",
        "ref": "arg",
        "value": "damping"
      },
      "e20k3gp": {
        "id": "e20k3gp",
        "ref": "arg",
        "value": "_reset.set"
      },
      "eml4hhq": {
        "id": "eml4hhq",
        "ref": "arg",
        "value": "geo"
      },
      "gktb1wh": {
        "id": "gktb1wh",
        "ref": "@flow.ap"
      },
      "glfw0eh": {
        "id": "glfw0eh",
        "name": "@three.applyForce",
        "ref": "return"
      },
      "gwwua2v": {
        "id": "gwwua2v",
        "ref": "arg",
        "value": "point_data.velocity"
      },
      "h54ggah": {
        "id": "h54ggah",
        "ref": "@js.script",
        "value": "return !reset"
      },
      "i24kuyf": {
        "id": "i24kuyf"
      },
      "jbksi5w": {
        "id": "jbksi5w",
        "ref": "@flow.if"
      },
      "l1kmaw2": {
        "id": "l1kmaw2",
        "ref": "arg",
        "value": "geo"
      },
      "l1vv7k7": {
        "id": "l1vv7k7",
        "ref": "@js.script",
        "value": "force.forEach((f, i) => {\n  v[i] *= 1 - (damp ?? 0)\n  v[i] += f ?? 0;\n})"
      },
      "m8gbhg4": {
        "id": "m8gbhg4",
        "ref": "@js.script",
        "value": "vel.forEach((v, i) => pos[i] += v)"
      },
      "maa23w3": {
        "id": "maa23w3",
        "ref": "@three.modify_attribute",
        "value": "position"
      },
      "mxtzrgw": {
        "id": "mxtzrgw",
        "ref": "@three.modify_attribute",
        "value": "velocity"
      },
      "nlvb6of": {
        "id": "nlvb6of",
        "ref": "arg",
        "value": "geo"
      },
      "ohqi2xw": {
        "id": "ohqi2xw",
        "ref": "@js.create_fn"
      },
      "pc0o532": {
        "id": "pc0o532",
        "value": "true"
      },
      "ph6kqoj": {
        "id": "ph6kqoj",
        "ref": "arg",
        "value": "_reset.state"
      },
      "q039pey": {
        "id": "q039pey",
        "ref": "@debug.log",
        "value": "opd"
      },
      "q2qyjhl": {
        "id": "q2qyjhl",
        "ref": "arg",
        "value": "point_data.velocity"
      },
      "qfl0o45": {
        "id": "qfl0o45",
        "ref": "arg",
        "value": "point_data.position"
      },
      "qqosk8y": {
        "id": "qqosk8y",
        "value": "reset"
      },
      "rw70t8y": {
        "id": "rw70t8y",
        "ref": "arg",
        "value": "geo"
      },
      "sbvh6lz": {
        "id": "sbvh6lz",
        "ref": "@html.html_element",
        "value": "button"
      },
      "srnm0s1": {
        "id": "srnm0s1",
        "ref": "arg",
        "value": "_reset.set"
      },
      "szm37b8": {
        "id": "szm37b8",
        "value": "true"
      },
      "u02akgh": {
        "id": "u02akgh",
        "ref": "@js.create_fn"
      },
      "uy2lf6r": {
        "id": "uy2lf6r"
      },
      "v7tihvn": {
        "id": "v7tihvn",
        "ref": "arg",
        "value": "_reset.state"
      },
      "vkhfnnr": {
        "id": "vkhfnnr",
        "ref": "@flow.if"
      },
      "wli26lm": {
        "id": "wli26lm"
      },
      "wxtf2fm": {
        "id": "wxtf2fm",
        "ref": "@js.script",
        "value": "return geo.hasAttribute(\"force\") || geo.hasAttribute(\"velocity\")"
      },
      "x1qfkj5": {
        "id": "x1qfkj5",
        "ref": "@flow.runnable"
      },
      "y2q8yw8": {
        "id": "y2q8yw8",
        "ref": "@flow.runnable"
      },
      "ybchlmp": {
        "id": "ybchlmp"
      },
      "yjgf8l3": {
        "id": "yjgf8l3",
        "value": "false"
      }
    },
    "out": "glfw0eh"
  },
  {
    "description": "A three.js [PerspectiveCamera](https://threejs.org/docs/?q=camera#api/en/cameras/PerspectiveCamera)",
    "edges": {
      "11u8kd6": {
        "as": "height",
        "from": "11u8kd6",
        "to": "x4zdk2w"
      },
      "args": {
        "as": "args",
        "from": "args",
        "to": "main/out"
      },
      "n79e1ca": {
        "as": "THREE",
        "from": "n79e1ca",
        "to": "args"
      },
      "qvf3y0y": {
        "as": "width",
        "from": "qvf3y0y",
        "to": "x4zdk2w"
      },
      "vjfgmrl": {
        "as": "value",
        "from": "vjfgmrl",
        "to": "n79e1ca"
      },
      "x4zdk2w": {
        "as": "value",
        "from": "x4zdk2w",
        "to": "main/out"
      }
    },
    "id": "@three.camera",
    "nodes": {
      "11u8kd6": {
        "id": "11u8kd6",
        "ref": "arg",
        "value": "canvas.height"
      },
      "args": {
        "id": "args"
      },
      "bfr8z38": {
        "__isnodysseus": true,
        "id": "bfr8z38",
        "ref": "arg",
        "value": "_lib.THREE"
      },
      "main/out": {
        "__isnodysseus": true,
        "id": "main/out",
        "name": "@three.camera",
        "ref": "return"
      },
      "n79e1ca": {
        "id": "n79e1ca",
        "ref": "@memory.cache"
      },
      "qvf3y0y": {
        "id": "qvf3y0y",
        "ref": "arg",
        "value": "canvas.width"
      },
      "vjfgmrl": {
        "id": "vjfgmrl",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/npm/three/build/three.module.js"
      },
      "x4zdk2w": {
        "id": "x4zdk2w",
        "ref": "@js.script",
        "value": "return new _lib.THREE.PerspectiveCamera( 75, width / height, 0.1, 1000 );"
      }
    },
    "out": "main/out"
  },
  {
    "edges": {
      "0y5xgcs": {
        "as": "fn",
        "from": "0y5xgcs",
        "to": "xiyofrj"
      },
      "0y9nyxp": {
        "as": "run",
        "from": "0y9nyxp",
        "to": "ffr6feq"
      },
      "20xmfge": {
        "as": "index",
        "from": "20xmfge",
        "to": "avo907o"
      },
      "447wkkn": {
        "as": "count",
        "from": "447wkkn",
        "to": "n61vu1g"
      },
      "59dmz8o": {
        "as": "target",
        "from": "59dmz8o",
        "to": "simstt1"
      },
      "avo907o": {
        "as": "parameters",
        "from": "avo907o",
        "to": "xiyofrj"
      },
      "edgtusk": {
        "as": "object",
        "from": "edgtusk",
        "to": "v4amk2b"
      },
      "f9wcb4r": {
        "as": "value",
        "from": "f9wcb4r",
        "to": "tzc105q"
      },
      "ffr6feq": {
        "as": "obj",
        "from": "ffr6feq",
        "to": "0y5xgcs"
      },
      "n61vu1g": {
        "as": "array",
        "from": "n61vu1g",
        "to": "59dmz8o"
      },
      "r4zrusw": {
        "as": "obj",
        "from": "r4zrusw",
        "to": "edgtusk"
      },
      "simstt1": {
        "as": "value",
        "from": "simstt1",
        "to": "3svuiof"
      },
      "syiu3dv": {
        "as": "index",
        "from": "syiu3dv",
        "to": "v4amk2b"
      },
      "tzc105q": {
        "as": "grp",
        "from": "tzc105q",
        "to": "0y5xgcs"
      },
      "ure02v3": {
        "as": "index",
        "from": "ure02v3",
        "to": "edgtusk"
      },
      "v4amk2b": {
        "as": "args",
        "from": "v4amk2b",
        "to": "ffr6feq"
      },
      "w20inzg": {
        "as": "graphid",
        "from": "w20inzg",
        "to": "edgtusk"
      },
      "wyv8g10": {
        "as": "args",
        "from": "wyv8g10",
        "to": "3svuiof"
      },
      "xiyofrj": {
        "as": "fn",
        "from": "xiyofrj",
        "to": "59dmz8o"
      },
      "yl6mpwh": {
        "as": "fn",
        "from": "yl6mpwh",
        "to": "ffr6feq"
      }
    },
    "id": "@three.copyObject",
    "name": "@three.copyObject",
    "nodes": {
      "0y5xgcs": {
        "id": "0y5xgcs",
        "ref": "@js.script",
        "value": "grp.add(obj)\nreturn grp"
      },
      "0y9nyxp": {
        "id": "0y9nyxp",
        "value": "true"
      },
      "20xmfge": {
        "id": "20xmfge"
      },
      "3svuiof": {
        "id": "3svuiof",
        "name": "@three.copyObject",
        "ref": "return"
      },
      "447wkkn": {
        "id": "447wkkn",
        "ref": "arg",
        "value": "count"
      },
      "59dmz8o": {
        "id": "59dmz8o",
        "ref": "@data.map"
      },
      "avo907o": {
        "id": "avo907o"
      },
      "edgtusk": {
        "id": "edgtusk",
        "ref": "@js.script",
        "value": "const cloned = obj.clone();\ncloned.name = `${graphid}-${index}`\nreturn cloned;"
      },
      "f9wcb4r": {
        "id": "f9wcb4r",
        "ref": "@js.new",
        "value": "THREE.Group"
      },
      "ffr6feq": {
        "id": "ffr6feq",
        "ref": "@flow.ap"
      },
      "n61vu1g": {
        "id": "n61vu1g",
        "ref": "@js.script",
        "value": "return new Array(count).fill(0)"
      },
      "r4zrusw": {
        "id": "r4zrusw",
        "ref": "arg",
        "value": "object"
      },
      "simstt1": {
        "id": "simstt1",
        "ref": "@data.get",
        "value": "0"
      },
      "syiu3dv": {
        "id": "syiu3dv",
        "ref": "arg",
        "value": "index"
      },
      "tzc105q": {
        "id": "tzc105q",
        "ref": "@memory.graphchangecache"
      },
      "ure02v3": {
        "id": "ure02v3",
        "ref": "arg",
        "value": "index"
      },
      "v4amk2b": {
        "id": "v4amk2b"
      },
      "w20inzg": {
        "id": "w20inzg",
        "ref": "arg",
        "value": "__graphid"
      },
      "wyv8g10": {
        "id": "wyv8g10"
      },
      "xiyofrj": {
        "id": "xiyofrj",
        "ref": "@flow.runnable"
      },
      "yl6mpwh": {
        "id": "yl6mpwh",
        "ref": "arg",
        "value": "transform"
      }
    },
    "out": "3svuiof"
  },
  {
    "description": "Creates a BufferGeometry using the specified constructor and input nodes as arguments.",
    "edges": {
      "7jw4lsu": {
        "as": "options",
        "from": "7jw4lsu",
        "to": "j819k9c"
      },
      "8w8gfzn": {
        "as": "target",
        "from": "8w8gfzn",
        "to": "7jw4lsu"
      },
      "e08m3vg": {
        "as": "args",
        "from": "e08m3vg",
        "to": "out"
      },
      "j819k9c": {
        "as": "_geometry",
        "from": "j819k9c",
        "to": "e08m3vg"
      },
      "ka77yfe": {
        "as": "shape",
        "from": "ka77yfe",
        "to": "j819k9c"
      },
      "mrevz1i": {
        "as": "arg0",
        "from": "mrevz1i",
        "to": "7jw4lsu"
      },
      "output_val": {
        "as": "value",
        "from": "output_val",
        "to": "out"
      }
    },
    "id": "@three.extrude",
    "nodes": {
      "7jw4lsu": {
        "id": "7jw4lsu",
        "ref": "@data.merge_objects_mutable"
      },
      "8w8gfzn": {
        "id": "8w8gfzn",
        "value": "{}"
      },
      "e08m3vg": {
        "id": "e08m3vg"
      },
      "j819k9c": {
        "id": "j819k9c",
        "ref": "@js.script",
        "value": "\nreturn new _lib.THREE.ExtrudeGeometry(shape, options);"
      },
      "ka77yfe": {
        "id": "ka77yfe",
        "ref": "arg",
        "value": "shapes"
      },
      "mrevz1i": {
        "id": "mrevz1i",
        "ref": "arg",
        "value": "_args"
      },
      "out": {
        "id": "out",
        "name": "@three.extrude",
        "ref": "return"
      },
      "output_val": {
        "id": "output_val",
        "ref": "arg",
        "value": "_geometry"
      }
    },
    "out": "out"
  },
  {
    "description": "Import an EffectPass from three.js [postprocessing directory](https://github.com/mrdoob/three.js/tree/master/examples/jsm/postprocessing)",
    "edges": {
      "20oh4kr": {
        "as": "value",
        "from": "20oh4kr",
        "to": "d4kcr9g"
      },
      "2tffpiq": {
        "as": "path",
        "from": "2tffpiq",
        "to": "stp926h"
      },
      "cknmtsk": {
        "as": "value",
        "from": "cknmtsk",
        "to": "t2wl30j"
      },
      "d4kcr9g": {
        "as": "name",
        "from": "d4kcr9g",
        "to": "q4tskdl"
      },
      "gp1qalc": {
        "as": "otherwise",
        "from": "gp1qalc",
        "to": "k02afe9"
      },
      "id8jixz": {
        "as": "value",
        "from": "id8jixz",
        "to": "cknmtsk"
      },
      "ji51v7a": {
        "as": "otherwise",
        "from": "ji51v7a",
        "to": "d4kcr9g"
      },
      "k02afe9": {
        "as": "args",
        "from": "k02afe9",
        "to": "id8jixz"
      },
      "q4tskdl": {
        "as": "args",
        "from": "q4tskdl",
        "to": "t2wl30j"
      },
      "r5a95d2": {
        "as": "target",
        "from": "r5a95d2",
        "to": "stp926h"
      },
      "stp926h": {
        "as": "Pass",
        "from": "stp926h",
        "to": "id8jixz"
      },
      "wonswm4": {
        "as": "name",
        "from": "wonswm4",
        "to": "y6p5j3a"
      },
      "y6p5j3a": {
        "as": "url",
        "from": "y6p5j3a",
        "to": "r5a95d2"
      },
      "ztsrxfz": {
        "as": "value",
        "from": "ztsrxfz",
        "to": "k02afe9"
      }
    },
    "id": "@three.fx_pass",
    "name": "FxPass",
    "nodes": {
      "20oh4kr": {
        "id": "20oh4kr",
        "ref": "arg",
        "value": "name"
      },
      "2tffpiq": {
        "id": "2tffpiq",
        "ref": "arg",
        "value": "name"
      },
      "cknmtsk": {
        "id": "cknmtsk",
        "ref": "@memory.graphchangecache"
      },
      "d4kcr9g": {
        "id": "d4kcr9g",
        "ref": "@flow.default"
      },
      "gp1qalc": {
        "id": "gp1qalc",
        "value": "[]"
      },
      "id8jixz": {
        "id": "id8jixz",
        "ref": "@js.script",
        "value": "return new Pass(...args);"
      },
      "ji51v7a": {
        "id": "ji51v7a",
        "ref": "arg",
        "value": "__graph_value"
      },
      "k02afe9": {
        "id": "k02afe9",
        "ref": "@flow.default"
      },
      "q4tskdl": {
        "id": "q4tskdl"
      },
      "r5a95d2": {
        "id": "r5a95d2",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/npm/three/examples/jsm/postprocessing/AfterimagePass.js"
      },
      "stp926h": {
        "id": "stp926h",
        "ref": "@data.get"
      },
      "t2wl30j": {
        "id": "t2wl30j",
        "name": "@three.fx_pass",
        "ref": "return"
      },
      "wonswm4": {
        "id": "wonswm4",
        "ref": "arg",
        "value": "name"
      },
      "y6p5j3a": {
        "id": "y6p5j3a",
        "ref": "@js.script",
        "value": "return `https://cdn.jsdelivr.net/npm/three/examples/jsm/postprocessing/${name}.js`"
      },
      "ztsrxfz": {
        "id": "ztsrxfz",
        "ref": "arg",
        "value": "args"
      }
    },
    "out": "t2wl30j"
  },
  {
    "description": "Use a fragment shader as a three.js shader pass.",
    "edges": {
      "020skie": {
        "as": "value",
        "from": "020skie",
        "to": "t2wl30j"
      },
      "20oh4kr": {
        "as": "value",
        "from": "20oh4kr",
        "to": "d4kcr9g"
      },
      "7a8p5tc": {
        "as": "value",
        "from": "7a8p5tc",
        "to": "020skie"
      },
      "8ku3swe": {
        "as": "uniforms",
        "from": "8ku3swe",
        "to": "lbnpwro"
      },
      "csbvqhk": {
        "as": "arguniforms",
        "from": "csbvqhk",
        "to": "wpipqoa"
      },
      "d4kcr9g": {
        "as": "name",
        "from": "d4kcr9g",
        "to": "q4tskdl"
      },
      "id8jixz": {
        "as": "value",
        "from": "id8jixz",
        "to": "vhc6af0"
      },
      "j6vdmp8": {
        "as": "otherwise",
        "from": "j6vdmp8",
        "to": "pkc7ahm"
      },
      "ji51v7a": {
        "as": "otherwise",
        "from": "ji51v7a",
        "to": "d4kcr9g"
      },
      "k02afe9": {
        "as": "value",
        "from": "k02afe9",
        "to": "na3d3gk"
      },
      "lbnpwro": {
        "as": "uniforms",
        "from": "lbnpwro",
        "to": "k02afe9"
      },
      "na3d3gk": {
        "as": "shader",
        "from": "na3d3gk",
        "to": "id8jixz"
      },
      "nzl1k7m": {
        "as": "animationframe",
        "from": "nzl1k7m",
        "to": "p5ybna1"
      },
      "p5ybna1": {
        "as": "subscribe",
        "from": "p5ybna1",
        "to": "020skie"
      },
      "pkc7ahm": {
        "as": "vertexShader",
        "from": "pkc7ahm",
        "to": "k02afe9"
      },
      "q3dfbvj": {
        "as": "Pass",
        "from": "q3dfbvj",
        "to": "id8jixz"
      },
      "q4tskdl": {
        "as": "args",
        "from": "q4tskdl",
        "to": "t2wl30j"
      },
      "qq4228z": {
        "as": "args",
        "from": "qq4228z",
        "to": "020skie"
      },
      "r5a95d2": {
        "as": "target",
        "from": "r5a95d2",
        "to": "stp926h"
      },
      "stp926h": {
        "as": "value",
        "from": "stp926h",
        "to": "q3dfbvj"
      },
      "ubre7xk": {
        "as": "value",
        "from": "ubre7xk",
        "to": "xz1by66"
      },
      "vhc6af0": {
        "as": "shader",
        "from": "vhc6af0",
        "to": "qq4228z"
      },
      "w21kxjr": {
        "as": "fragmentShader",
        "from": "w21kxjr",
        "to": "k02afe9"
      },
      "wonswm4": {
        "as": "name",
        "from": "wonswm4",
        "to": "y6p5j3a"
      },
      "wpipqoa": {
        "as": "fn",
        "from": "wpipqoa",
        "to": "nzl1k7m"
      },
      "xz1by66": {
        "as": "shaderuniforms",
        "from": "xz1by66",
        "to": "wpipqoa"
      },
      "y6p5j3a": {
        "as": "url",
        "from": "y6p5j3a",
        "to": "r5a95d2"
      },
      "ztsrxfz": {
        "as": "value",
        "from": "ztsrxfz",
        "to": "pkc7ahm"
      }
    },
    "id": "@three.fx_shader_pass",
    "name": "FxPass",
    "nodes": {
      "020skie": {
        "id": "020skie",
        "ref": "return"
      },
      "20oh4kr": {
        "id": "20oh4kr",
        "ref": "arg",
        "value": "name"
      },
      "7a8p5tc": {
        "id": "7a8p5tc",
        "ref": "arg",
        "value": "shader"
      },
      "8ku3swe": {
        "id": "8ku3swe",
        "ref": "arg",
        "value": "uniforms"
      },
      "csbvqhk": {
        "id": "csbvqhk",
        "ref": "arg",
        "value": "uniforms"
      },
      "d4kcr9g": {
        "id": "d4kcr9g",
        "ref": "@flow.default"
      },
      "id8jixz": {
        "id": "id8jixz",
        "ref": "@js.script",
        "value": "return new Pass(shader);"
      },
      "j6vdmp8": {
        "id": "j6vdmp8",
        "ref": "@js.script",
        "value": "return `\n\t\t\tattribute vec4 color;\n\n   varying vec2 vUv;\n\n\n\t\t\tvoid main()\t{\n\n\tvUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t\t}\n\n`"
      },
      "ji51v7a": {
        "id": "ji51v7a",
        "ref": "arg",
        "value": "__graph_value"
      },
      "k02afe9": {
        "id": "k02afe9"
      },
      "lbnpwro": {
        "id": "lbnpwro",
        "ref": "@js.script",
        "value": "console.log(uniforms);\nconst ret =  Object.fromEntries(Object.entries(uniforms ?? {}).map(e => [e[0], typeof e[1] === \"object\" && Object.hasOwn(e[1], \"value\") ? e[1] : {value: e[1]}]))\nconsole.log(ret);\nreturn ret;"
      },
      "na3d3gk": {
        "id": "na3d3gk",
        "ref": "@debug.log",
        "value": "shaderval"
      },
      "nzl1k7m": {
        "id": "nzl1k7m",
        "ref": "@flow.runnable"
      },
      "om4ffw5": {
        "id": "om4ffw5",
        "ref": "@debug.log",
        "value": "newshaderpass"
      },
      "p5ybna1": {
        "id": "p5ybna1"
      },
      "pkc7ahm": {
        "id": "pkc7ahm",
        "ref": "@flow.default"
      },
      "q3dfbvj": {
        "id": "q3dfbvj",
        "ref": "@memory.cache"
      },
      "q4tskdl": {
        "id": "q4tskdl"
      },
      "qq4228z": {
        "id": "qq4228z"
      },
      "r5a95d2": {
        "id": "r5a95d2",
        "ref": "@js.import_module"
      },
      "stp926h": {
        "id": "stp926h",
        "ref": "@data.get",
        "value": "ShaderPass"
      },
      "t2wl30j": {
        "id": "t2wl30j",
        "name": "@three.fx_shader_pass",
        "ref": "return"
      },
      "ubre7xk": {
        "id": "ubre7xk",
        "ref": "arg",
        "value": "shader.uniforms"
      },
      "vhc6af0": {
        "id": "vhc6af0",
        "ref": "@memory.graphchangecache"
      },
      "w21kxjr": {
        "id": "w21kxjr",
        "ref": "arg",
        "value": "fragmentShader"
      },
      "wonswm4": {
        "id": "wonswm4",
        "value": "ShaderPass"
      },
      "wpipqoa": {
        "id": "wpipqoa",
        "ref": "@js.script",
        "value": "arguniforms && shaderuniforms && Object.keys(arguniforms).forEach(k => shaderuniforms[k].value = typeof  arguniforms[k] === \"object\" && Object.hasOwn(arguniforms[k], \"value\") ? arguniforms[k].value : arguniforms[k]);"
      },
      "xz1by66": {
        "id": "xz1by66",
        "ref": "@memory.graphchangecache"
      },
      "y6p5j3a": {
        "id": "y6p5j3a",
        "ref": "@js.script",
        "value": "return `https://cdn.jsdelivr.net/npm/three/examples/jsm/postprocessing/${name}.js`"
      },
      "ztsrxfz": {
        "id": "ztsrxfz",
        "ref": "arg",
        "value": "vertexShader"
      }
    },
    "out": "t2wl30j"
  },
  {
    "description": "Creates a BufferGeometry using the specified constructor and input nodes as arguments.",
    "edges": {
      "7vhuixq": {
        "as": "metadata",
        "from": "7vhuixq",
        "to": "out"
      },
      "e08m3vg": {
        "as": "args",
        "from": "e08m3vg",
        "to": "out"
      },
      "output_val": {
        "as": "value",
        "from": "output_val",
        "to": "out"
      },
      "kphtl0m": {
        "as": "_geometry",
        "from": "kphtl0m",
        "to": "e08m3vg"
      },
      "j819k9c": {
        "as": "true",
        "from": "j819k9c",
        "to": "kphtl0m"
      },
      "z82dq3u": {
        "as": "pred",
        "from": "z82dq3u",
        "to": "kphtl0m"
      },
      "7jw4lsu": {
        "as": "args",
        "from": "7jw4lsu",
        "to": "j819k9c"
      },
      "g2xpahw": {
        "as": "name",
        "from": "g2xpahw",
        "to": "j819k9c"
      },
      "8w8gfzn": {
        "as": "target",
        "from": "8w8gfzn",
        "to": "7jw4lsu"
      },
      "mrevz1i": {
        "as": "arg0",
        "from": "mrevz1i",
        "to": "7jw4lsu"
      },
      "4or2htn": {
        "as": "values",
        "from": "4or2htn",
        "to": "7vhuixq"
      },
      "ccmvwyl": {
        "as": "parameters",
        "from": "ccmvwyl",
        "to": "7vhuixq"
      },
      "a3ljk0v": {
        "as": "true",
        "from": "a3ljk0v",
        "to": "ccmvwyl"
      },
      "es3j1s8": {
        "as": "pred",
        "from": "es3j1s8",
        "to": "ccmvwyl"
      },
      "r8fus3z": {
        "as": "geometry",
        "from": "r8fus3z",
        "to": "a3ljk0v"
      },
      "gl3wugl": {
        "as": "value",
        "from": "gl3wugl",
        "to": "r8fus3z"
      },
      "nyv9f1b": {
        "as": "recache",
        "from": "nyv9f1b",
        "to": "r8fus3z"
      },
      "86qm2fw": {
        "as": "value",
        "from": "86qm2fw",
        "to": "nyv9f1b"
      },
      "tsd4zz1": {
        "as": "THREE",
        "from": "tsd4zz1",
        "to": "wl24jbc"
      },
      "wl24jbc": {
        "from": "wl24jbc",
        "to": "out",
        "as": "lib"
      }
    },
    "id": "@three.geometry",
    "nodes": {
      "out": {
        "id": "out",
        "name": "@three.geometry",
        "ref": "return"
      },
      "output_val": {
        "id": "output_val",
        "ref": "arg",
        "value": "_geometry"
      },
      "e08m3vg": {
        "id": "e08m3vg"
      },
      "kphtl0m": {
        "id": "kphtl0m",
        "ref": "@flow.if"
      },
      "z82dq3u": {
        "id": "z82dq3u",
        "ref": "arg",
        "value": "__graph_value"
      },
      "j819k9c": {
        "id": "j819k9c",
        "ref": "@js.script",
        "value": "return _lib.THREE[name].fromJSON?.(args ?? {}) ?? new _lib.THREE[name](Object.values(args ?? {}));"
      },
      "g2xpahw": {
        "id": "g2xpahw",
        "ref": "arg",
        "value": "__graph_value"
      },
      "7jw4lsu": {
        "id": "7jw4lsu",
        "ref": "@data.merge_objects_mutable"
      },
      "mrevz1i": {
        "id": "mrevz1i",
        "ref": "arg",
        "value": "_args"
      },
      "8w8gfzn": {
        "id": "8w8gfzn",
        "value": "{}"
      },
      "7vhuixq": {
        "id": "7vhuixq"
      },
      "ccmvwyl": {
        "id": "ccmvwyl",
        "ref": "@flow.if"
      },
      "es3j1s8": {
        "id": "es3j1s8",
        "ref": "arg",
        "value": "__graph_value"
      },
      "a3ljk0v": {
        "id": "a3ljk0v",
        "ref": "@js.script",
        "value": "const keys = Array.from(Object.keys(geometry.parameters))\nreturn Object.fromEntries(keys.map(k => [k, \"any\"]));"
      },
      "r8fus3z": {
        "id": "r8fus3z",
        "ref": "@memory.cache"
      },
      "nyv9f1b": {
        "id": "nyv9f1b",
        "ref": "@data.ischanged"
      },
      "86qm2fw": {
        "id": "86qm2fw",
        "ref": "arg",
        "value": "__graph_value"
      },
      "gl3wugl": {
        "id": "gl3wugl",
        "ref": "arg",
        "value": "_geometry"
      },
      "4or2htn": {
        "id": "4or2htn",
        "ref": "@js.script",
        "value": "return _lib.THREE && Object.keys(_lib.THREE).filter(k => k.endsWith(\"Geometry\"))"
      },
      "wl24jbc": {
        "id": "wl24jbc"
      },
      "tsd4zz1": {
        "id": "tsd4zz1",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/npm/three/build/three.module.js"
      }
    },
    "out": "out"
  },
  {
    "description": "Save and load assets such as geometry, images, etc.",
    "edges": {
      "0xucdak": {
        "as": "value",
        "from": "0xucdak",
        "to": "6owogjm"
      },
      "65bdnhk": {
        "as": "GLTFLoader",
        "from": "65bdnhk",
        "to": "xmyi1yi"
      },
      "6mnggoe": {
        "as": "file",
        "from": "6mnggoe",
        "to": "nzdbmwo"
      },
      "6owogjm": {
        "as": "value",
        "from": "6owogjm",
        "to": "r3wy7qr"
      },
      "78983lz": {
        "as": "file",
        "from": "78983lz",
        "to": "cmrjgyv"
      },
      "8ug5ygt": {
        "as": "display",
        "from": "8ug5ygt",
        "to": "r3wy7qr"
      },
      "aqxr41s": {
        "as": "file",
        "from": "aqxr41s",
        "to": "cgya4cs"
      },
      "b9wjaqz": {
        "as": "pred",
        "from": "b9wjaqz",
        "to": "0xucdak"
      },
      "cgya4cs": {
        "as": "input",
        "from": "cgya4cs",
        "to": "ddhuoh2"
      },
      "ckl1s1u": {
        "as": "file",
        "from": "ckl1s1u",
        "to": "mtjltoq"
      },
      "cmrjgyv": {
        "as": "args",
        "from": "cmrjgyv",
        "to": "6owogjm"
      },
      "cnqbqcm": {
        "as": "buffergeoLoader",
        "from": "cnqbqcm",
        "to": "mtjltoq"
      },
      "ddhuoh2": {
        "as": "true",
        "from": "ddhuoh2",
        "to": "0xucdak"
      },
      "ju0gq9n": {
        "as": "target",
        "from": "ju0gq9n",
        "to": "kfyzav1"
      },
      "kfyzav1": {
        "as": "file",
        "from": "kfyzav1",
        "to": "78983lz"
      },
      "mtjltoq": {
        "as": "buffergeo",
        "from": "mtjltoq",
        "to": "ddhuoh2"
      },
      "n3lcnwc": {
        "as": "gltfLoader",
        "from": "n3lcnwc",
        "to": "nzdbmwo"
      },
      "nzdbmwo": {
        "as": "gltf",
        "from": "nzdbmwo",
        "to": "ddhuoh2"
      },
      "pdbinbg": {
        "as": "assetname",
        "from": "pdbinbg",
        "to": "v4zu63j"
      },
      "py60aki": {
        "as": "args",
        "from": "py60aki",
        "to": "r3wy7qr"
      },
      "rxalntn": {
        "as": "target",
        "from": "rxalntn",
        "to": "65bdnhk"
      },
      "v4zu63j": {
        "as": "_manager",
        "from": "v4zu63j",
        "to": "py60aki"
      },
      "xmyi1yi": {
        "as": "value",
        "from": "xmyi1yi",
        "to": "n3lcnwc"
      },
      "z9cjc2k": {
        "as": "_assetstate",
        "from": "z9cjc2k",
        "to": "py60aki"
      }
    },
    "id": "@three.geometry_loader",
    "name": "@three.geometry_loader",
    "nodes": {
      "0xucdak": {
        "id": "0xucdak",
        "ref": "@flow.if"
      },
      "65bdnhk": {
        "id": "65bdnhk",
        "ref": "@data.get",
        "value": "GLTFLoader"
      },
      "6mnggoe": {
        "id": "6mnggoe",
        "ref": "arg",
        "value": "file"
      },
      "6owogjm": {
        "id": "6owogjm",
        "ref": "return"
      },
      "78983lz": {
        "id": "78983lz",
        "ref": "@js.script",
        "value": "return !file ? false : (file.type === \"application/json\" ? file.text() : file.arrayBuffer()).then(data => ({data, name: file.name, type: file.type}));"
      },
      "8ug5ygt": {
        "id": "8ug5ygt",
        "ref": "arg",
        "value": "_manager"
      },
      "aqxr41s": {
        "id": "aqxr41s",
        "ref": "arg",
        "value": "file"
      },
      "b9wjaqz": {
        "id": "b9wjaqz",
        "ref": "arg",
        "value": "file"
      },
      "cgya4cs": {
        "id": "cgya4cs",
        "ref": "@js.script",
        "value": "return file.type === \"application/json\" ? \"buffergeo\" : file.name.endsWith(\"glb\") ? \"gltf\" : undefined;"
      },
      "ckl1s1u": {
        "id": "ckl1s1u",
        "ref": "arg",
        "value": "file"
      },
      "cmrjgyv": {
        "id": "cmrjgyv"
      },
      "cnqbqcm": {
        "id": "cnqbqcm",
        "ref": "@js.new",
        "value": "THREE.BufferGeometryLoader"
      },
      "ddhuoh2": {
        "id": "ddhuoh2",
        "ref": "@flow.switch"
      },
      "ju0gq9n": {
        "id": "ju0gq9n",
        "ref": "arg",
        "value": "_manager"
      },
      "kfyzav1": {
        "id": "kfyzav1",
        "ref": "@data.get",
        "value": "file"
      },
      "mtjltoq": {
        "id": "mtjltoq",
        "ref": "@js.script",
        "value": "const geo  = buffergeoLoader.parse(JSON.parse(file.data));\n\ngeo.computeVertexNormals();\nreturn geo;"
      },
      "n3lcnwc": {
        "id": "n3lcnwc",
        "ref": "@memory.cache"
      },
      "nzdbmwo": {
        "id": "nzdbmwo",
        "ref": "@js.script",
        "value": "return new Promise((res, rej) =>  gltfLoader.parse(file.data, \"\", l => res(l.scene.children), e => rej(e)));"
      },
      "pdbinbg": {
        "id": "pdbinbg",
        "ref": "arg",
        "value": "assetname"
      },
      "py60aki": {
        "id": "py60aki"
      },
      "r3wy7qr": {
        "id": "r3wy7qr",
        "name": "@three.geometry_loader",
        "ref": "return"
      },
      "rxalntn": {
        "id": "rxalntn",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/npm/three/examples/jsm/loaders/GLTFLoader.js"
      },
      "v4zu63j": {
        "id": "v4zu63j",
        "ref": "@memory.assetmanager"
      },
      "xmyi1yi": {
        "id": "xmyi1yi",
        "ref": "@js.script",
        "value": "return new GLTFLoader();"
      },
      "z9cjc2k": {
        "id": "z9cjc2k",
        "ref": "@memory.state"
      }
    },
    "out": "r3wy7qr"
  },
  {
    "description": "Create a THREE.Color from hue, saturation, and lightness values.",
    "edges": {
      "2bfvr5l": {
        "as": "value",
        "from": "2bfvr5l",
        "to": "75i11sr"
      },
      "30cyatd": {
        "as": "args",
        "from": "30cyatd",
        "to": "u0e41te"
      },
      "3b75109": {
        "as": "args",
        "from": "3b75109",
        "to": "7213y6o"
      },
      "4xemugi": {
        "as": "args",
        "from": "4xemugi",
        "to": "69anwc1"
      },
      "4xncneb": {
        "as": "label",
        "from": "4xncneb",
        "to": "w86v20w"
      },
      "69anwc1": {
        "as": "oninput",
        "from": "69anwc1",
        "to": "hqg5vir"
      },
      "7213y6o": {
        "as": "arg0",
        "from": "7213y6o",
        "to": "tsx0nxa"
      },
      "74cf180": {
        "as": "value",
        "from": "74cf180",
        "to": "out"
      },
      "75i11sr": {
        "as": "value",
        "from": "75i11sr",
        "to": "vme9fb1"
      },
      "7ea5jgx": {
        "as": "style",
        "from": "7ea5jgx",
        "to": "emu0880"
      },
      "81ujf8j": {
        "as": "hue",
        "from": "81ujf8j",
        "to": "ylzx8qo"
      },
      "8anrcgd": {
        "as": "fn",
        "from": "8anrcgd",
        "to": "cpgoj68"
      },
      "8dy573e": {
        "as": "display",
        "from": "8dy573e",
        "to": "out"
      },
      "8odywaq": {
        "as": "saturation",
        "from": "8odywaq",
        "to": "ylzx8qo"
      },
      "9p76jo8": {
        "as": "value",
        "from": "9p76jo8",
        "to": "kaf9jnh"
      },
      "aerb29c": {
        "as": "fn",
        "from": "aerb29c",
        "to": "t75wi18"
      },
      "aph70wf": {
        "as": "fn",
        "from": "aph70wf",
        "to": "pdxnxt8"
      },
      "args": {
        "as": "args",
        "from": "args",
        "to": "out"
      },
      "at9191c": {
        "as": "height",
        "from": "at9191c",
        "to": "7ea5jgx"
      },
      "bw3pisc": {
        "as": "target",
        "from": "bw3pisc",
        "to": "gyagyco"
      },
      "c1dvldn": {
        "as": "children",
        "from": "c1dvldn",
        "to": "8dy573e"
      },
      "cl3mg4a": {
        "as": "target",
        "from": "cl3mg4a",
        "to": "zr406fh"
      },
      "cpgoj68": {
        "as": "arg1",
        "from": "cpgoj68",
        "to": "tsx0nxa"
      },
      "cuc1ej8": {
        "as": "label",
        "from": "cuc1ej8",
        "to": "kpyuy53"
      },
      "cyz42is": {
        "as": "args",
        "from": "cyz42is",
        "to": "ejqrswg"
      },
      "dgjskzi": {
        "as": "fn",
        "from": "dgjskzi",
        "to": "l7b87re"
      },
      "e3cf0y2": {
        "as": "value",
        "from": "e3cf0y2",
        "to": "8dy573e"
      },
      "ejqrswg": {
        "as": "arg1",
        "from": "ejqrswg",
        "to": "j98njyt"
      },
      "emu0880": {
        "as": "props",
        "from": "emu0880",
        "to": "pg12g2d"
      },
      "f3crhnx": {
        "as": "label",
        "from": "f3crhnx",
        "to": "hqg5vir"
      },
      "fqrnpby": {
        "as": "value",
        "from": "fqrnpby",
        "to": "xdaowcs"
      },
      "fybv1nj": {
        "as": "value",
        "from": "fybv1nj",
        "to": "hf7kwe4"
      },
      "gyagyco": {
        "as": "value",
        "from": "gyagyco",
        "to": "jzmwx97"
      },
      "hf7kwe4": {
        "as": "color",
        "from": "hf7kwe4",
        "to": "74cf180"
      },
      "hqg5vir": {
        "as": "arg2",
        "from": "hqg5vir",
        "to": "omunkbu"
      },
      "hulvghk": {
        "as": "oninput",
        "from": "hulvghk",
        "to": "kpyuy53"
      },
      "ig6y3zd": {
        "as": "fn",
        "from": "ig6y3zd",
        "to": "ejqrswg"
      },
      "iw4e6c2": {
        "as": "arg0",
        "from": "iw4e6c2",
        "to": "c1dvldn"
      },
      "j98njyt": {
        "as": "fn",
        "from": "j98njyt",
        "to": "hulvghk"
      },
      "ji48x6d": {
        "as": "value",
        "from": "ji48x6d",
        "to": "vk8axwx"
      },
      "jxmwo4d": {
        "as": "fn",
        "from": "jxmwo4d",
        "to": "u0e41te"
      },
      "jzmwx97": {
        "as": "args",
        "from": "jzmwx97",
        "to": "t75wi18"
      },
      "kaf9jnh": {
        "as": "args",
        "from": "kaf9jnh",
        "to": "cpgoj68"
      },
      "kmas7e1": {
        "as": "value",
        "from": "kmas7e1",
        "to": "gyagyco"
      },
      "kpyuy53": {
        "as": "arg1",
        "from": "kpyuy53",
        "to": "omunkbu"
      },
      "l7b87re": {
        "as": "arg0",
        "from": "l7b87re",
        "to": "j98njyt"
      },
      "leyos8o": {
        "as": "fn",
        "from": "leyos8o",
        "to": "7213y6o"
      },
      "omunkbu": {
        "as": "children",
        "from": "omunkbu",
        "to": "iw4e6c2"
      },
      "owmjxju": {
        "as": "hsl",
        "from": "owmjxju",
        "to": "74cf180"
      },
      "pdxnxt8": {
        "as": "oninput",
        "from": "pdxnxt8",
        "to": "w86v20w"
      },
      "pg12g2d": {
        "as": "arg1",
        "from": "pg12g2d",
        "to": "c1dvldn"
      },
      "ra6vf6a": {
        "as": "_hsl",
        "from": "ra6vf6a",
        "to": "args"
      },
      "rlgdflv": {
        "as": "value",
        "from": "rlgdflv",
        "to": "30cyatd"
      },
      "rw9u87w": {
        "as": "width",
        "from": "rw9u87w",
        "to": "7ea5jgx"
      },
      "s66b66h": {
        "as": "value",
        "from": "s66b66h",
        "to": "4xemugi"
      },
      "ssbwghd": {
        "as": "target",
        "from": "ssbwghd",
        "to": "75i11sr"
      },
      "t08jw63": {
        "as": "lightness",
        "from": "t08jw63",
        "to": "ylzx8qo"
      },
      "t75wi18": {
        "as": "arg0",
        "from": "t75wi18",
        "to": "aph70wf"
      },
      "tsx0nxa": {
        "as": "fn",
        "from": "tsx0nxa",
        "to": "69anwc1"
      },
      "u0e41te": {
        "as": "arg1",
        "from": "u0e41te",
        "to": "aph70wf"
      },
      "vk8axwx": {
        "as": "args",
        "from": "vk8axwx",
        "to": "hulvghk"
      },
      "vme9fb1": {
        "as": "args",
        "from": "vme9fb1",
        "to": "l7b87re"
      },
      "w86v20w": {
        "as": "arg0",
        "from": "w86v20w",
        "to": "omunkbu"
      },
      "x3ga548": {
        "as": "value",
        "from": "x3ga548",
        "to": "cyz42is"
      },
      "xdaowcs": {
        "as": "args",
        "from": "xdaowcs",
        "to": "pdxnxt8"
      },
      "ylzx8qo": {
        "as": "backgroundColor",
        "from": "ylzx8qo",
        "to": "7ea5jgx"
      },
      "yvtcxp1": {
        "as": "value",
        "from": "yvtcxp1",
        "to": "zr406fh"
      },
      "zr406fh": {
        "as": "value",
        "from": "zr406fh",
        "to": "3b75109"
      }
    },
    "id": "@three.hsl",
    "name": "test123",
    "nodes": {
      "2bfvr5l": {
        "id": "2bfvr5l",
        "ref": "arg",
        "value": "value"
      },
      "30cyatd": {
        "id": "30cyatd"
      },
      "3b75109": {
        "id": "3b75109"
      },
      "4xemugi": {
        "id": "4xemugi"
      },
      "4xncneb": {
        "id": "4xncneb",
        "value": "Hue"
      },
      "69anwc1": {
        "id": "69anwc1",
        "ref": "@flow.ap"
      },
      "7213y6o": {
        "id": "7213y6o",
        "ref": "@flow.ap"
      },
      "74cf180": {
        "id": "74cf180",
        "ref": "@js.script",
        "value": "if(hsl){\n color.setHSL(hsl.hue, hsl.saturation, hsl.lightness)\n}\nreturn color;"
      },
      "75i11sr": {
        "id": "75i11sr",
        "ref": "@data.set",
        "value": "saturation"
      },
      "7ea5jgx": {
        "id": "7ea5jgx"
      },
      "81ujf8j": {
        "id": "81ujf8j",
        "ref": "arg",
        "value": "_hsl.value.hue"
      },
      "8anrcgd": {
        "id": "8anrcgd",
        "ref": "arg",
        "value": "onchange"
      },
      "8dy573e": {
        "id": "8dy573e",
        "ref": "@html.html_element"
      },
      "8odywaq": {
        "id": "8odywaq",
        "ref": "arg",
        "value": "_hsl.value.saturation"
      },
      "9p76jo8": {
        "id": "9p76jo8",
        "ref": "arg",
        "value": "_hsl"
      },
      "aerb29c": {
        "id": "aerb29c",
        "ref": "arg",
        "value": "_hsl.set"
      },
      "aph70wf": {
        "id": "aph70wf",
        "ref": "@data.array"
      },
      "args": {
        "id": "args"
      },
      "at9191c": {
        "id": "at9191c",
        "value": "32px"
      },
      "bw3pisc": {
        "id": "bw3pisc",
        "ref": "arg",
        "value": "_hsl.value"
      },
      "c1dvldn": {
        "id": "c1dvldn",
        "ref": "@data.array"
      },
      "cl3mg4a": {
        "id": "cl3mg4a",
        "ref": "arg",
        "value": "_hsl.value"
      },
      "cpgoj68": {
        "id": "cpgoj68",
        "ref": "@flow.ap"
      },
      "cuc1ej8": {
        "id": "cuc1ej8",
        "value": "Saturation"
      },
      "cyz42is": {
        "id": "cyz42is"
      },
      "dgjskzi": {
        "id": "dgjskzi",
        "ref": "arg",
        "value": "_hsl.set"
      },
      "e3cf0y2": {
        "id": "e3cf0y2",
        "ref": "arg",
        "value": "_hsl"
      },
      "ejqrswg": {
        "id": "ejqrswg",
        "ref": "@flow.ap"
      },
      "emu0880": {
        "id": "emu0880"
      },
      "f3crhnx": {
        "id": "f3crhnx",
        "value": "Lightness"
      },
      "fqrnpby": {
        "id": "fqrnpby",
        "ref": "arg",
        "value": "value"
      },
      "fybv1nj": {
        "id": "fybv1nj",
        "ref": "@js.new",
        "value": "THREE.Color"
      },
      "gyagyco": {
        "id": "gyagyco",
        "ref": "@data.set",
        "value": "hue"
      },
      "hf7kwe4": {
        "id": "hf7kwe4",
        "ref": "@memory.cache"
      },
      "hqg5vir": {
        "id": "hqg5vir",
        "ref": "sliderlocal"
      },
      "hulvghk": {
        "id": "hulvghk",
        "ref": "@flow.ap"
      },
      "ig6y3zd": {
        "id": "ig6y3zd",
        "ref": "arg",
        "value": "onchange"
      },
      "iw4e6c2": {
        "id": "iw4e6c2",
        "ref": "@html.html_element"
      },
      "j98njyt": {
        "id": "j98njyt",
        "ref": "@data.array"
      },
      "ji48x6d": {
        "id": "ji48x6d",
        "ref": "arg",
        "value": "value"
      },
      "jxmwo4d": {
        "id": "jxmwo4d",
        "ref": "arg",
        "value": "onchange"
      },
      "jzmwx97": {
        "id": "jzmwx97"
      },
      "kaf9jnh": {
        "id": "kaf9jnh"
      },
      "kmas7e1": {
        "id": "kmas7e1",
        "ref": "arg",
        "value": "value"
      },
      "kpyuy53": {
        "id": "kpyuy53",
        "ref": "sliderlocal"
      },
      "l7b87re": {
        "id": "l7b87re",
        "ref": "@flow.ap"
      },
      "leyos8o": {
        "id": "leyos8o",
        "ref": "arg",
        "value": "_hsl.set"
      },
      "omunkbu": {
        "id": "omunkbu",
        "ref": "@data.array"
      },
      "out": {
        "id": "out",
        "name": "@three.hsl",
        "ref": "return"
      },
      "owmjxju": {
        "id": "owmjxju",
        "ref": "arg",
        "value": "_hsl.value"
      },
      "pdxnxt8": {
        "id": "pdxnxt8",
        "ref": "@flow.ap"
      },
      "pg12g2d": {
        "id": "pg12g2d",
        "ref": "@html.html_element"
      },
      "ra6vf6a": {
        "id": "ra6vf6a",
        "ref": "@memory.refval"
      },
      "rlgdflv": {
        "id": "rlgdflv",
        "ref": "arg",
        "value": "_hsl"
      },
      "rw9u87w": {
        "id": "rw9u87w",
        "value": "32px"
      },
      "s66b66h": {
        "id": "s66b66h",
        "ref": "arg",
        "value": "value"
      },
      "ssbwghd": {
        "id": "ssbwghd",
        "ref": "arg",
        "value": "_hsl.value"
      },
      "t08jw63": {
        "id": "t08jw63",
        "ref": "arg",
        "value": "_hsl.value.lightness"
      },
      "t75wi18": {
        "id": "t75wi18",
        "ref": "@flow.ap"
      },
      "tsx0nxa": {
        "id": "tsx0nxa",
        "ref": "@data.array"
      },
      "u0e41te": {
        "id": "u0e41te",
        "ref": "@flow.ap"
      },
      "vk8axwx": {
        "id": "vk8axwx"
      },
      "vme9fb1": {
        "id": "vme9fb1"
      },
      "w86v20w": {
        "id": "w86v20w",
        "ref": "sliderlocal"
      },
      "x3ga548": {
        "id": "x3ga548",
        "ref": "arg",
        "value": "_hsl"
      },
      "xdaowcs": {
        "id": "xdaowcs"
      },
      "ylzx8qo": {
        "id": "ylzx8qo",
        "ref": "@js.script",
        "value": "return `hsl(${hue * 360}, ${saturation * 100}%, ${lightness * 100}%)`"
      },
      "yvtcxp1": {
        "id": "yvtcxp1",
        "ref": "arg",
        "value": "value"
      },
      "zr406fh": {
        "id": "zr406fh",
        "ref": "@data.set",
        "value": "lightness"
      }
    },
    "out": "out"
  },
  {
    "edges": {
      "2bfvr5l": {
        "as": "value",
        "from": "2bfvr5l",
        "to": "75i11sr"
      },
      "30cyatd": {
        "as": "args",
        "from": "30cyatd",
        "to": "u0e41te"
      },
      "3b75109": {
        "as": "args",
        "from": "3b75109",
        "to": "7213y6o"
      },
      "4xemugi": {
        "as": "args",
        "from": "4xemugi",
        "to": "69anwc1"
      },
      "4xncneb": {
        "as": "label",
        "from": "4xncneb",
        "to": "w86v20w"
      },
      "69anwc1": {
        "as": "oninput",
        "from": "69anwc1",
        "to": "hqg5vir"
      },
      "7213y6o": {
        "as": "arg0",
        "from": "7213y6o",
        "to": "tsx0nxa"
      },
      "75i11sr": {
        "as": "value",
        "from": "75i11sr",
        "to": "vme9fb1"
      },
      "7ea5jgx": {
        "as": "style",
        "from": "7ea5jgx",
        "to": "emu0880"
      },
      "81ujf8j": {
        "as": "hue",
        "from": "81ujf8j",
        "to": "ylzx8qo"
      },
      "8anrcgd": {
        "as": "fn",
        "from": "8anrcgd",
        "to": "cpgoj68"
      },
      "8dy573e": {
        "as": "display",
        "from": "8dy573e",
        "to": "out"
      },
      "8odywaq": {
        "as": "saturation",
        "from": "8odywaq",
        "to": "ylzx8qo"
      },
      "9p76jo8": {
        "as": "value",
        "from": "9p76jo8",
        "to": "kaf9jnh"
      },
      "aerb29c": {
        "as": "fn",
        "from": "aerb29c",
        "to": "t75wi18"
      },
      "aph70wf": {
        "as": "fn",
        "from": "aph70wf",
        "to": "pdxnxt8"
      },
      "args": {
        "as": "args",
        "from": "args",
        "to": "out"
      },
      "at9191c": {
        "as": "height",
        "from": "at9191c",
        "to": "7ea5jgx"
      },
      "bw3pisc": {
        "as": "target",
        "from": "bw3pisc",
        "to": "gyagyco"
      },
      "c1dvldn": {
        "as": "children",
        "from": "c1dvldn",
        "to": "8dy573e"
      },
      "cl3mg4a": {
        "as": "target",
        "from": "cl3mg4a",
        "to": "zr406fh"
      },
      "cpgoj68": {
        "as": "arg1",
        "from": "cpgoj68",
        "to": "tsx0nxa"
      },
      "cuc1ej8": {
        "as": "label",
        "from": "cuc1ej8",
        "to": "kpyuy53"
      },
      "cyz42is": {
        "as": "args",
        "from": "cyz42is",
        "to": "ejqrswg"
      },
      "dgjskzi": {
        "as": "fn",
        "from": "dgjskzi",
        "to": "l7b87re"
      },
      "e3cf0y2": {
        "as": "value",
        "from": "e3cf0y2",
        "to": "8dy573e"
      },
      "ejqrswg": {
        "as": "arg1",
        "from": "ejqrswg",
        "to": "j98njyt"
      },
      "emu0880": {
        "as": "props",
        "from": "emu0880",
        "to": "pg12g2d"
      },
      "f3crhnx": {
        "as": "label",
        "from": "f3crhnx",
        "to": "hqg5vir"
      },
      "fqrnpby": {
        "as": "value",
        "from": "fqrnpby",
        "to": "xdaowcs"
      },
      "gyagyco": {
        "as": "value",
        "from": "gyagyco",
        "to": "jzmwx97"
      },
      "hqg5vir": {
        "as": "arg2",
        "from": "hqg5vir",
        "to": "omunkbu"
      },
      "hulvghk": {
        "as": "oninput",
        "from": "hulvghk",
        "to": "kpyuy53"
      },
      "ig6y3zd": {
        "as": "fn",
        "from": "ig6y3zd",
        "to": "ejqrswg"
      },
      "iw4e6c2": {
        "as": "arg0",
        "from": "iw4e6c2",
        "to": "c1dvldn"
      },
      "j98njyt": {
        "as": "fn",
        "from": "j98njyt",
        "to": "hulvghk"
      },
      "ji48x6d": {
        "as": "value",
        "from": "ji48x6d",
        "to": "vk8axwx"
      },
      "jxmwo4d": {
        "as": "fn",
        "from": "jxmwo4d",
        "to": "u0e41te"
      },
      "jzmwx97": {
        "as": "args",
        "from": "jzmwx97",
        "to": "t75wi18"
      },
      "kaf9jnh": {
        "as": "args",
        "from": "kaf9jnh",
        "to": "cpgoj68"
      },
      "kmas7e1": {
        "as": "value",
        "from": "kmas7e1",
        "to": "gyagyco"
      },
      "kpyuy53": {
        "as": "arg1",
        "from": "kpyuy53",
        "to": "omunkbu"
      },
      "l7b87re": {
        "as": "arg0",
        "from": "l7b87re",
        "to": "j98njyt"
      },
      "leyos8o": {
        "as": "fn",
        "from": "leyos8o",
        "to": "7213y6o"
      },
      "omunkbu": {
        "as": "children",
        "from": "omunkbu",
        "to": "iw4e6c2"
      },
      "owmjxju": {
        "as": "value",
        "from": "owmjxju",
        "to": "out"
      },
      "pdxnxt8": {
        "as": "oninput",
        "from": "pdxnxt8",
        "to": "w86v20w"
      },
      "pg12g2d": {
        "as": "arg1",
        "from": "pg12g2d",
        "to": "c1dvldn"
      },
      "ra6vf6a": {
        "as": "hsl",
        "from": "ra6vf6a",
        "to": "t2tbr2z"
      },
      "rlgdflv": {
        "as": "value",
        "from": "rlgdflv",
        "to": "30cyatd"
      },
      "rw9u87w": {
        "as": "width",
        "from": "rw9u87w",
        "to": "7ea5jgx"
      },
      "s66b66h": {
        "as": "value",
        "from": "s66b66h",
        "to": "4xemugi"
      },
      "ssbwghd": {
        "as": "target",
        "from": "ssbwghd",
        "to": "75i11sr"
      },
      "t08jw63": {
        "as": "value",
        "from": "t08jw63",
        "to": "ylzx8qo"
      },
      "t2tbr2z": {
        "as": "_hsv",
        "from": "t2tbr2z",
        "to": "args"
      },
      "t75wi18": {
        "as": "arg0",
        "from": "t75wi18",
        "to": "aph70wf"
      },
      "tsx0nxa": {
        "as": "fn",
        "from": "tsx0nxa",
        "to": "69anwc1"
      },
      "u0e41te": {
        "as": "arg1",
        "from": "u0e41te",
        "to": "aph70wf"
      },
      "vk8axwx": {
        "as": "args",
        "from": "vk8axwx",
        "to": "hulvghk"
      },
      "vme9fb1": {
        "as": "args",
        "from": "vme9fb1",
        "to": "l7b87re"
      },
      "w86v20w": {
        "as": "arg0",
        "from": "w86v20w",
        "to": "omunkbu"
      },
      "x3ga548": {
        "as": "value",
        "from": "x3ga548",
        "to": "cyz42is"
      },
      "xdaowcs": {
        "as": "args",
        "from": "xdaowcs",
        "to": "pdxnxt8"
      },
      "ylzx8qo": {
        "as": "backgroundColor",
        "from": "ylzx8qo",
        "to": "7ea5jgx"
      },
      "yvtcxp1": {
        "as": "value",
        "from": "yvtcxp1",
        "to": "zr406fh"
      },
      "zr406fh": {
        "as": "value",
        "from": "zr406fh",
        "to": "3b75109"
      }
    },
    "id": "@three.hsv",
    "name": "test123",
    "nodes": {
      "2bfvr5l": {
        "id": "2bfvr5l",
        "ref": "arg",
        "value": "value"
      },
      "30cyatd": {
        "id": "30cyatd"
      },
      "3b75109": {
        "id": "3b75109"
      },
      "4xemugi": {
        "id": "4xemugi"
      },
      "4xncneb": {
        "id": "4xncneb",
        "value": "Hue"
      },
      "69anwc1": {
        "id": "69anwc1",
        "ref": "@flow.ap"
      },
      "7213y6o": {
        "id": "7213y6o",
        "ref": "@flow.ap"
      },
      "75i11sr": {
        "id": "75i11sr",
        "ref": "@data.set",
        "value": "saturation"
      },
      "7ea5jgx": {
        "id": "7ea5jgx"
      },
      "81ujf8j": {
        "id": "81ujf8j",
        "ref": "arg",
        "value": "_hsv.value.hue"
      },
      "8anrcgd": {
        "id": "8anrcgd",
        "ref": "arg",
        "value": "onchange"
      },
      "8dy573e": {
        "id": "8dy573e",
        "ref": "@html.html_element"
      },
      "8odywaq": {
        "id": "8odywaq",
        "ref": "arg",
        "value": "_hsv.value.saturation"
      },
      "9p76jo8": {
        "id": "9p76jo8",
        "ref": "arg",
        "value": "_hsv"
      },
      "aerb29c": {
        "id": "aerb29c",
        "ref": "arg",
        "value": "_hsv.set"
      },
      "aph70wf": {
        "id": "aph70wf",
        "ref": "@data.array"
      },
      "args": {
        "id": "args"
      },
      "at9191c": {
        "id": "at9191c",
        "value": "32px"
      },
      "bw3pisc": {
        "id": "bw3pisc",
        "ref": "arg",
        "value": "_hsv.value"
      },
      "c1dvldn": {
        "id": "c1dvldn",
        "ref": "@data.array"
      },
      "cl3mg4a": {
        "id": "cl3mg4a",
        "ref": "arg",
        "value": "_hsv.value"
      },
      "cpgoj68": {
        "id": "cpgoj68",
        "ref": "@flow.ap"
      },
      "cuc1ej8": {
        "id": "cuc1ej8",
        "value": "Saturation"
      },
      "cyz42is": {
        "id": "cyz42is"
      },
      "dgjskzi": {
        "id": "dgjskzi",
        "ref": "arg",
        "value": "_hsv.set"
      },
      "e3cf0y2": {
        "id": "e3cf0y2",
        "ref": "arg",
        "value": "_hsv"
      },
      "ejqrswg": {
        "id": "ejqrswg",
        "ref": "@flow.ap"
      },
      "emu0880": {
        "id": "emu0880"
      },
      "f3crhnx": {
        "id": "f3crhnx",
        "value": "Value"
      },
      "fqrnpby": {
        "id": "fqrnpby",
        "ref": "arg",
        "value": "value"
      },
      "gyagyco": {
        "id": "gyagyco",
        "ref": "@data.set",
        "value": "hue"
      },
      "hqg5vir": {
        "id": "hqg5vir",
        "ref": "sliderlocal"
      },
      "hulvghk": {
        "id": "hulvghk",
        "ref": "@flow.ap"
      },
      "ig6y3zd": {
        "id": "ig6y3zd",
        "ref": "arg",
        "value": "onchange"
      },
      "iw4e6c2": {
        "id": "iw4e6c2",
        "ref": "@html.html_element"
      },
      "j98njyt": {
        "id": "j98njyt",
        "ref": "@data.array"
      },
      "ji48x6d": {
        "id": "ji48x6d",
        "ref": "arg",
        "value": "value"
      },
      "jxmwo4d": {
        "id": "jxmwo4d",
        "ref": "arg",
        "value": "onchange"
      },
      "jzmwx97": {
        "id": "jzmwx97"
      },
      "kaf9jnh": {
        "id": "kaf9jnh"
      },
      "kmas7e1": {
        "id": "kmas7e1",
        "ref": "arg",
        "value": "value"
      },
      "kpyuy53": {
        "id": "kpyuy53",
        "ref": "sliderlocal"
      },
      "l7b87re": {
        "id": "l7b87re",
        "ref": "@flow.ap"
      },
      "leyos8o": {
        "id": "leyos8o",
        "ref": "arg",
        "value": "_hsv.set"
      },
      "omunkbu": {
        "id": "omunkbu",
        "ref": "@data.array"
      },
      "out": {
        "id": "out",
        "name": "@three.hsv",
        "ref": "return"
      },
      "owmjxju": {
        "id": "owmjxju",
        "ref": "arg",
        "value": "_hsv"
      },
      "pdxnxt8": {
        "id": "pdxnxt8",
        "ref": "@flow.ap"
      },
      "pg12g2d": {
        "id": "pg12g2d",
        "ref": "@html.html_element"
      },
      "ra6vf6a": {
        "id": "ra6vf6a",
        "ref": "@memory.refval"
      },
      "rlgdflv": {
        "id": "rlgdflv",
        "ref": "arg",
        "value": "_hsv"
      },
      "rw9u87w": {
        "id": "rw9u87w",
        "value": "32px"
      },
      "s66b66h": {
        "id": "s66b66h",
        "ref": "arg",
        "value": "value"
      },
      "ssbwghd": {
        "id": "ssbwghd",
        "ref": "arg",
        "value": "_hsv.value"
      },
      "t08jw63": {
        "id": "t08jw63",
        "ref": "arg",
        "value": "_hsv.value.value"
      },
      "t2tbr2z": {
        "id": "t2tbr2z",
        "ref": "@js.script",
        "value": "return `hsl(${(hsl?.hue ?? 0) * 360}, ${(hsl?.saturation ?? 0) * 100}%, ${(hsl?.value ?? 0) * 100}%)`"
      },
      "t75wi18": {
        "id": "t75wi18",
        "ref": "@flow.ap"
      },
      "tsx0nxa": {
        "id": "tsx0nxa",
        "ref": "@data.array"
      },
      "u0e41te": {
        "id": "u0e41te",
        "ref": "@flow.ap"
      },
      "vk8axwx": {
        "id": "vk8axwx"
      },
      "vme9fb1": {
        "id": "vme9fb1"
      },
      "w86v20w": {
        "id": "w86v20w",
        "ref": "sliderlocal"
      },
      "x3ga548": {
        "id": "x3ga548",
        "ref": "arg",
        "value": "_hsv"
      },
      "xdaowcs": {
        "id": "xdaowcs"
      },
      "ylzx8qo": {
        "id": "ylzx8qo",
        "ref": "@js.script",
        "value": "return `hsl(${hue * 360}, ${saturation * 100}%, ${value * 100}%)`"
      },
      "yvtcxp1": {
        "id": "yvtcxp1",
        "ref": "arg",
        "value": "value"
      },
      "zr406fh": {
        "id": "zr406fh",
        "ref": "@data.set",
        "value": "value"
      }
    },
    "out": "out"
  },
  {
    "description": "Create an [InstancedMesh](https://threejs.org/docs/?q=insta#api/en/objects/InstancedMesh) templating the `geometry` input, using the `material` input, and with position, scale, rotation, and color taken from the corresponding attributes in the `points_geometry` input.",
    "edges": {
      "01519ne": {
        "as": "pred",
        "from": "01519ne",
        "to": "output_val"
      },
      "30rflcf": {
        "as": "instancedMesh",
        "from": "30rflcf",
        "to": "xhfqi8j"
      },
      "53bzipt": {
        "as": "value",
        "from": "53bzipt",
        "to": "sfdqg0s"
      },
      "63aq975": {
        "as": "args",
        "from": "63aq975",
        "to": "smi1t6k"
      },
      "6eoi6m8": {
        "as": "value",
        "from": "6eoi6m8",
        "to": "eupgmhq"
      },
      "8tspg8g": {
        "as": "animationframe",
        "from": "8tspg8g",
        "to": "tikoz6d"
      },
      "9fi1zj6": {
        "as": "arg0",
        "from": "9fi1zj6",
        "to": "63aq975"
      },
      "9xjhsf2": {
        "as": "_instancedMesh",
        "from": "9xjhsf2",
        "to": "igjfrk8"
      },
      "args": {
        "as": "args",
        "from": "args",
        "to": "out"
      },
      "auq55xm": {
        "as": "self",
        "from": "auq55xm",
        "to": "smi1t6k"
      },
      "bq7aqpk": {
        "as": "arg0",
        "from": "bq7aqpk",
        "to": "u4bko6w"
      },
      "dp2azrs": {
        "as": "arg2",
        "from": "dp2azrs",
        "to": "u4bko6w"
      },
      "eupgmhq": {
        "as": "true",
        "from": "eupgmhq",
        "to": "output_val"
      },
      "euzoog2": {
        "as": "geo",
        "from": "euzoog2",
        "to": "01519ne"
      },
      "gx1pkou": {
        "as": "pointGeo",
        "from": "gx1pkou",
        "to": "xhfqi8j"
      },
      "hy04icp": {
        "as": "value",
        "from": "hy04icp",
        "to": "uoktt66"
      },
      "igjfrk8": {
        "as": "args",
        "from": "igjfrk8",
        "to": "eupgmhq"
      },
      "il8qvek": {
        "as": "value",
        "from": "il8qvek",
        "to": "oth92z1"
      },
      "oth92z1": {
        "as": "c",
        "from": "oth92z1",
        "to": "xhfqi8j"
      },
      "output_val": {
        "as": "value",
        "from": "output_val",
        "to": "out"
      },
      "pnvtdew": {
        "as": "pgeo",
        "from": "pnvtdew",
        "to": "01519ne"
      },
      "sfdqg0s": {
        "as": "r",
        "from": "sfdqg0s",
        "to": "xhfqi8j"
      },
      "smi1t6k": {
        "as": "target",
        "from": "smi1t6k",
        "to": "dp2azrs"
      },
      "tikoz6d": {
        "as": "subscribe",
        "from": "tikoz6d",
        "to": "eupgmhq"
      },
      "u4bko6w": {
        "as": "args",
        "from": "u4bko6w",
        "to": "vqnjrq1"
      },
      "uoktt66": {
        "as": "m",
        "from": "uoktt66",
        "to": "xhfqi8j"
      },
      "vqnjrq1": {
        "as": "value",
        "from": "vqnjrq1",
        "to": "9xjhsf2"
      },
      "w9ba3wm": {
        "as": "arg1",
        "from": "w9ba3wm",
        "to": "u4bko6w"
      },
      "xhfqi8j": {
        "as": "fn",
        "from": "xhfqi8j",
        "to": "8tspg8g"
      }
    },
    "id": "@three.instanced_mesh",
    "nodes": {
      "01519ne": {
        "id": "01519ne",
        "ref": "@js.script",
        "value": "//return !!geo && !!pgeo\nreturn geo && pgeo?.getAttribute(\"position\")?.count > 0"
      },
      "1kid3zd": {
        "id": "1kid3zd",
        "ref": "arg",
        "value": "points_geometry"
      },
      "2cu5t1i": {
        "id": "2cu5t1i",
        "ref": "@flow.runnable"
      },
      "30rflcf": {
        "id": "30rflcf",
        "ref": "arg",
        "value": "_instancedMesh"
      },
      "4r33hl3": {
        "id": "4r33hl3",
        "ref": "@js.call",
        "value": "getAttribute"
      },
      "4we6p9h": {
        "id": "4we6p9h",
        "ref": "arg",
        "value": "instancedMesh"
      },
      "5200xg9": {
        "id": "5200xg9",
        "ref": "arg",
        "value": "pgeo"
      },
      "53bzipt": {
        "id": "53bzipt",
        "ref": "@js.new",
        "value": "THREE.Quaternion"
      },
      "63aq975": {
        "id": "63aq975",
        "ref": "@data.array"
      },
      "6eoi6m8": {
        "id": "6eoi6m8",
        "ref": "arg",
        "value": "_instancedMesh"
      },
      "8tspg8g": {
        "id": "8tspg8g",
        "ref": "@flow.runnable"
      },
      "9fi1zj6": {
        "id": "9fi1zj6",
        "value": "position"
      },
      "9xjhsf2": {
        "id": "9xjhsf2",
        "ref": "@memory.cache"
      },
      "args": {
        "id": "args"
      },
      "auq55xm": {
        "id": "auq55xm",
        "ref": "arg",
        "value": "points_geometry"
      },
      "bq7aqpk": {
        "id": "bq7aqpk",
        "ref": "arg",
        "value": "geometry"
      },
      "ccadeww": {
        "id": "ccadeww",
        "ref": "arg",
        "value": "material"
      },
      "clb02f6": {
        "id": "clb02f6",
        "ref": "arg",
        "value": "instancedMesh"
      },
      "cm6n3xo": {
        "id": "cm6n3xo",
        "ref": "return"
      },
      "dffqzdm": {
        "id": "dffqzdm"
      },
      "dhw9f6u": {
        "id": "dhw9f6u"
      },
      "dp2azrs": {
        "id": "dp2azrs",
        "ref": "@data.get",
        "value": "count"
      },
      "eupgmhq": {
        "id": "eupgmhq",
        "ref": "return"
      },
      "euzoog2": {
        "id": "euzoog2",
        "ref": "arg",
        "value": "geometry"
      },
      "f8ysyb5": {
        "id": "f8ysyb5",
        "ref": "graphchangecachelocal"
      },
      "frzt9qp": {
        "id": "frzt9qp",
        "ref": "@data.array"
      },
      "gx1pkou": {
        "id": "gx1pkou",
        "ref": "arg",
        "value": "points_geometry"
      },
      "hy04icp": {
        "id": "hy04icp",
        "ref": "@js.new",
        "value": "THREE.Matrix4"
      },
      "igjfrk8": {
        "id": "igjfrk8"
      },
      "il8qvek": {
        "id": "il8qvek",
        "ref": "@js.new",
        "value": "THREE.Color"
      },
      "j93x0er": {
        "id": "j93x0er",
        "ref": "@data.array"
      },
      "onvagyp": {
        "id": "onvagyp",
        "ref": "graphchangecachelocal"
      },
      "oth92z1": {
        "id": "oth92z1",
        "ref": "@memory.cache"
      },
      "out": {
        "id": "out",
        "name": "@three.instanced_mesh",
        "ref": "return"
      },
      "output_val": {
        "id": "output_val",
        "ref": "@flow.if"
      },
      "pnvtdew": {
        "id": "pnvtdew",
        "ref": "arg",
        "value": "points_geometry"
      },
      "sfdqg0s": {
        "id": "sfdqg0s",
        "ref": "@memory.cache"
      },
      "sfxguax": {
        "id": "sfxguax",
        "ref": "@js.new",
        "value": "THREE.InstancedMesh"
      },
      "smi1t6k": {
        "id": "smi1t6k",
        "ref": "@js.call",
        "value": "getAttribute"
      },
      "tikoz6d": {
        "id": "tikoz6d"
      },
      "u4bko6w": {
        "id": "u4bko6w",
        "ref": "@data.array"
      },
      "uoktt66": {
        "id": "uoktt66",
        "ref": "@memory.cache"
      },
      "v1y2tr4": {
        "id": "v1y2tr4",
        "value": "position"
      },
      "vb31opk": {
        "id": "vb31opk",
        "ref": "arg",
        "value": "geometry"
      },
      "vqnjrq1": {
        "id": "vqnjrq1",
        "ref": "@js.new",
        "value": "THREE.InstancedMesh"
      },
      "w9ba3wm": {
        "id": "w9ba3wm",
        "ref": "arg",
        "value": "material"
      },
      "xhfqi8j": {
        "id": "xhfqi8j",
        "ref": "@js.script",
        "value": "\nconst position = pointGeo.getAttribute(\"position\");\nconst scale = pointGeo.getAttribute(\"scale\");\nconst rotation = pointGeo.getAttribute(\"rotation\");\nconst color = pointGeo.getAttribute(\"color\");\n\n\nconst p = new _lib.THREE.Vector3();\nconst s = new _lib.THREE.Vector3(1, 1, 1);\nconst e = new _lib.THREE.Euler();\n\nfor(let i = 0; i < position.count; i++) {\n  p.fromBufferAttribute(position, i)\n  if(scale) {\n    if(scale.itemSize === 3) {\n      if(scale.getY(i) === 0 && scale.getZ(i) === 0) {\n        s.set(scale.getX(i), scale.getX(i), scale.getX(i));\n      } else {\n        s.fromBufferAttribute(scale, i);\n      }\n    } else if (scale.itemSize === 1) {\n      s.set(scale.getX(i), scale.getX(i), scale.getX(i));\n    }\n  }\n\n  if (rotation) {\n    if(rotation.itemSize === 3) {\n      e.set(rotation.getX(i), rotation.getY(i), rotation.getZ(i), 'XYZ');\n      r.setFromEuler(e)\n    } else if(rotation.itemSize === 4) {\n      r.fromBufferAttribute(rotation, i);\n    }\n  }\n  \n  m.compose(p, r, s);\n  instancedMesh.setMatrixAt(i, m);\n\n  if(color) {\n    c.setHSL(color.getX(i), color.getY(i), color.getZ(i));\n    instancedMesh.setColorAt(i, c);\n    instancedMesh.instanceColor.needsUpdate = true;\n  }\n}\n\ninstancedMesh.instanceMatrix.needsUpdate = true;\n\n\nreturn instancedMesh;"
      },
      "ymz9ufc": {
        "id": "ymz9ufc",
        "ref": "@data.get",
        "value": "count"
      }
    },
    "out": "out"
  },
  {
    "description": "Create a [Light](https://threejs.org/docs/?q=light#api/en/lights/Light) of the type specified in the dropdown. The `intensity` input is the light's intensity",
    "edges": {
      "38zagsq": {
        "as": "metadata",
        "from": "38zagsq",
        "to": "out"
      },
      "6c3y90j": {
        "as": "args",
        "from": "6c3y90j",
        "to": "output_val"
      },
      "dn5axhu": {
        "as": "THREE",
        "from": "dn5axhu",
        "to": "rgpu8gc"
      },
      "output_val": {
        "as": "value",
        "from": "output_val",
        "to": "out"
      },
      "rgpu8gc": {
        "as": "lib",
        "from": "rgpu8gc",
        "to": "out"
      },
      "urjyf2e": {
        "as": "intensity",
        "from": "urjyf2e",
        "to": "output_val"
      },
      "vgloog2": {
        "as": "values",
        "from": "vgloog2",
        "to": "38zagsq"
      },
      "vhuv19u": {
        "as": "selected",
        "from": "vhuv19u",
        "to": "output_val"
      }
    },
    "id": "@three.light",
    "nodes": {
      "38zagsq": {
        "id": "38zagsq"
      },
      "6c3y90j": {
        "id": "6c3y90j",
        "ref": "arg",
        "value": "args"
      },
      "dn5axhu": {
        "id": "dn5axhu",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/npm/three/build/three.module.js"
      },
      "out": {
        "id": "out",
        "name": "@three.light",
        "ref": "return"
      },
      "output_val": {
        "id": "output_val",
        "ref": "@js.script",
        "value": "args = args ?? [];\nconst light = selected && new _lib.THREE[selected](...args);\nif(light) {\n  if(intensity) light.intensity = intensity;\n}\n\nreturn light"
      },
      "rgpu8gc": {
        "id": "rgpu8gc"
      },
      "urjyf2e": {
        "id": "urjyf2e",
        "ref": "arg",
        "value": "intensity"
      },
      "vgloog2": {
        "id": "vgloog2",
        "ref": "@js.script",
        "value": "console.log(\"threelib\", _lib.THREE)\nreturn _lib.THREE ? Object.keys(_lib.THREE).filter(k => k.endsWith(\"Light\")) : []"
      },
      "vhuv19u": {
        "id": "vhuv19u",
        "ref": "arg",
        "value": "__graph_value"
      }
    },
    "out": "out"
  },
  {
    "edges": {
      "0xucdak": {
        "as": "value",
        "from": "0xucdak",
        "to": "6owogjm"
      },
      "65bdnhk": {
        "as": "GLTFLoader",
        "from": "65bdnhk",
        "to": "xmyi1yi"
      },
      "6mnggoe": {
        "as": "file",
        "from": "6mnggoe",
        "to": "nzdbmwo"
      },
      "6owogjm": {
        "as": "value",
        "from": "6owogjm",
        "to": "r3wy7qr"
      },
      "78983lz": {
        "as": "file",
        "from": "78983lz",
        "to": "cmrjgyv"
      },
      "8ug5ygt": {
        "as": "display",
        "from": "8ug5ygt",
        "to": "r3wy7qr"
      },
      "aqxr41s": {
        "as": "file",
        "from": "aqxr41s",
        "to": "cgya4cs"
      },
      "b9wjaqz": {
        "as": "pred",
        "from": "b9wjaqz",
        "to": "0xucdak"
      },
      "cgya4cs": {
        "as": "input",
        "from": "cgya4cs",
        "to": "ddhuoh2"
      },
      "ckl1s1u": {
        "as": "file",
        "from": "ckl1s1u",
        "to": "mtjltoq"
      },
      "cmrjgyv": {
        "as": "args",
        "from": "cmrjgyv",
        "to": "6owogjm"
      },
      "cnqbqcm": {
        "as": "buffergeoLoader",
        "from": "cnqbqcm",
        "to": "mtjltoq"
      },
      "ddhuoh2": {
        "as": "true",
        "from": "ddhuoh2",
        "to": "0xucdak"
      },
      "ju0gq9n": {
        "as": "target",
        "from": "ju0gq9n",
        "to": "kfyzav1"
      },
      "kfyzav1": {
        "as": "file",
        "from": "kfyzav1",
        "to": "78983lz"
      },
      "mtjltoq": {
        "as": "buffergeo",
        "from": "mtjltoq",
        "to": "ddhuoh2"
      },
      "n3lcnwc": {
        "as": "gltfLoader",
        "from": "n3lcnwc",
        "to": "nzdbmwo"
      },
      "nzdbmwo": {
        "as": "gltf",
        "from": "nzdbmwo",
        "to": "ddhuoh2"
      },
      "pdbinbg": {
        "as": "assetname",
        "from": "pdbinbg",
        "to": "v4zu63j"
      },
      "py60aki": {
        "as": "args",
        "from": "py60aki",
        "to": "r3wy7qr"
      },
      "rxalntn": {
        "as": "target",
        "from": "rxalntn",
        "to": "65bdnhk"
      },
      "v4zu63j": {
        "as": "_manager",
        "from": "v4zu63j",
        "to": "py60aki"
      },
      "xmyi1yi": {
        "as": "value",
        "from": "xmyi1yi",
        "to": "n3lcnwc"
      },
      "z9cjc2k": {
        "as": "_assetstate",
        "from": "z9cjc2k",
        "to": "py60aki"
      }
    },
    "id": "@three.loader",
    "name": "@three.loader",
    "nodes": {
      "0xucdak": {
        "id": "0xucdak",
        "ref": "@flow.if"
      },
      "65bdnhk": {
        "id": "65bdnhk",
        "ref": "@data.get",
        "value": "GLTFLoader"
      },
      "6mnggoe": {
        "id": "6mnggoe",
        "ref": "arg",
        "value": "file"
      },
      "6owogjm": {
        "id": "6owogjm",
        "ref": "return"
      },
      "78983lz": {
        "id": "78983lz",
        "ref": "@js.script",
        "value": "return !file ? false : (file.type === \"application/json\" ? file.text() : file.arrayBuffer()).then(data => ({data, name: file.name, type: file.type}));"
      },
      "8ug5ygt": {
        "id": "8ug5ygt",
        "ref": "arg",
        "value": "_manager"
      },
      "aqxr41s": {
        "id": "aqxr41s",
        "ref": "arg",
        "value": "file"
      },
      "b9wjaqz": {
        "id": "b9wjaqz",
        "ref": "arg",
        "value": "file"
      },
      "cgya4cs": {
        "id": "cgya4cs",
        "ref": "@js.script",
        "value": "return file.type === \"application/json\" ? \"buffergeo\" : file.name.endsWith(\"glb\") ? \"gltf\" : undefined;"
      },
      "ckl1s1u": {
        "id": "ckl1s1u",
        "ref": "arg",
        "value": "file"
      },
      "cmrjgyv": {
        "id": "cmrjgyv"
      },
      "cnqbqcm": {
        "id": "cnqbqcm",
        "ref": "@js.new",
        "value": "THREE.BufferGeometryLoader"
      },
      "ddhuoh2": {
        "id": "ddhuoh2",
        "ref": "@flow.switch"
      },
      "ju0gq9n": {
        "id": "ju0gq9n",
        "ref": "arg",
        "value": "_manager"
      },
      "kfyzav1": {
        "id": "kfyzav1",
        "ref": "@data.get",
        "value": "file"
      },
      "mtjltoq": {
        "id": "mtjltoq",
        "ref": "@js.script",
        "value": "const geo  = buffergeoLoader.parse(JSON.parse(file.data));\n\ngeo.computeVertexNormals();\nreturn geo;"
      },
      "n3lcnwc": {
        "id": "n3lcnwc",
        "ref": "@memory.cache"
      },
      "nzdbmwo": {
        "id": "nzdbmwo",
        "ref": "@js.script",
        "value": "return new Promise((res, rej) =>  gltfLoader.parse(file.data, \"\", l => res(l.scene.children), e => rej(e)));"
      },
      "pdbinbg": {
        "id": "pdbinbg",
        "ref": "arg",
        "value": "assetname"
      },
      "py60aki": {
        "id": "py60aki"
      },
      "r3wy7qr": {
        "id": "r3wy7qr",
        "name": "@three.loader",
        "ref": "return"
      },
      "rxalntn": {
        "id": "rxalntn",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/npm/three/examples/jsm/loaders/GLTFLoader.js"
      },
      "v4zu63j": {
        "id": "v4zu63j",
        "ref": "@memory.assetmanager"
      },
      "xmyi1yi": {
        "id": "xmyi1yi",
        "ref": "@js.script",
        "value": "return new GLTFLoader();"
      },
      "z9cjc2k": {
        "id": "z9cjc2k",
        "ref": "@memory.state"
      }
    },
    "out": "r3wy7qr"
  },
  {
    "description": "Creates a mesh with the `geometry` and `material` inputs",
    "edges": {
      "5nudo40": {
        "as": "true",
        "from": "5nudo40",
        "to": "output_val"
      },
      "args": {
        "as": "args",
        "from": "args",
        "to": "out"
      },
      "euzoog2": {
        "as": "pred",
        "from": "euzoog2",
        "to": "output_val"
      },
      "h9a5ot3": {
        "as": "args",
        "from": "h9a5ot3",
        "to": "5nudo40"
      },
      "output_val": {
        "as": "value",
        "from": "output_val",
        "to": "out"
      },
      "r9ngnn4": {
        "as": "arg0",
        "from": "r9ngnn4",
        "to": "h9a5ot3"
      },
      "xuoy9bd": {
        "as": "arg1",
        "from": "xuoy9bd",
        "to": "h9a5ot3"
      }
    },
    "id": "@three.mesh",
    "nodes": {
      "5nudo40": {
        "id": "5nudo40",
        "ref": "@js.new",
        "value": "THREE.Mesh"
      },
      "args": {
        "id": "args"
      },
      "euzoog2": {
        "id": "euzoog2",
        "ref": "arg",
        "value": "geometry"
      },
      "h9a5ot3": {
        "id": "h9a5ot3",
        "ref": "@data.array"
      },
      "husdoy4": {
        "id": "husdoy4",
        "ref": "@memory.cache"
      },
      "out": {
        "id": "out",
        "name": "@three.mesh",
        "ref": "return"
      },
      "output_val": {
        "id": "output_val",
        "ref": "@flow.if"
      },
      "r9ngnn4": {
        "id": "r9ngnn4",
        "ref": "arg",
        "value": "geometry"
      },
      "xuoy9bd": {
        "id": "xuoy9bd",
        "ref": "arg",
        "value": "material"
      }
    },
    "out": "out"
  },
  {
    "edges": {
      "0tgg4sp": {
        "as": "onchange",
        "from": "0tgg4sp",
        "to": "pk1bbc4"
      },
      "16s251p": {
        "as": "arg0",
        "from": "16s251p",
        "to": "ril0xrx"
      },
      "16witq1": {
        "as": "update",
        "from": "16witq1",
        "to": "8itq35i"
      },
      "1bqfz6p": {
        "as": "subscribe",
        "from": "1bqfz6p",
        "to": "vn2sh9e"
      },
      "1eft9yl": {
        "as": "args",
        "from": "1eft9yl",
        "to": "dtp36mu"
      },
      "1oskoai": {
        "as": "props",
        "from": "1oskoai",
        "to": "ha9sbe6"
      },
      "1tx5wnh": {
        "as": "arg1",
        "from": "1tx5wnh",
        "to": "aygb0oi"
      },
      "2kxm8s0": {
        "as": "initbuffer",
        "from": "2kxm8s0",
        "to": "l59yoji"
      },
      "302jicy": {
        "as": "arg0",
        "from": "302jicy",
        "to": "aygb0oi"
      },
      "3viy8mt": {
        "as": "_initgeo",
        "from": "3viy8mt",
        "to": "args"
      },
      "43bg3g9": {
        "as": "args",
        "from": "43bg3g9",
        "to": "0tgg4sp"
      },
      "4rmvxk1": {
        "as": "value",
        "from": "4rmvxk1",
        "to": "mfs79iq"
      },
      "5bfpjjf": {
        "as": "fn",
        "from": "5bfpjjf",
        "to": "0tgg4sp"
      },
      "7rukx50": {
        "as": "value",
        "from": "7rukx50",
        "to": "rob86ty"
      },
      "8dy573e": {
        "as": "display",
        "from": "8dy573e",
        "to": "out"
      },
      "8dy8qvc": {
        "as": "animationframe",
        "from": "8dy8qvc",
        "to": "1bqfz6p"
      },
      "8itq35i": {
        "as": "fn",
        "from": "8itq35i",
        "to": "8dy8qvc"
      },
      "8uiwk65": {
        "as": "fn",
        "from": "8uiwk65",
        "to": "dtp36mu"
      },
      "93xxksx": {
        "as": "_fn",
        "from": "93xxksx",
        "to": "9ysk4pe"
      },
      "9nh2xoa": {
        "as": "_fn",
        "from": "9nh2xoa",
        "to": "8itq35i"
      },
      "9nre5m4": {
        "as": "fn",
        "from": "9nre5m4",
        "to": "ai1ckv5"
      },
      "9y9ya6h": {
        "as": "inputgeo",
        "from": "9y9ya6h",
        "to": "l59yoji"
      },
      "9ysk4pe": {
        "as": "parameters",
        "from": "9ysk4pe",
        "to": "na5dq7p"
      },
      "ahl1omp": {
        "as": "fn",
        "from": "ahl1omp",
        "to": "l59yoji"
      },
      "ai1ckv5": {
        "as": "pred",
        "from": "ai1ckv5",
        "to": "ph7ugf6"
      },
      "aj17mw0": {
        "as": "type",
        "from": "aj17mw0",
        "to": "pk1bbc4"
      },
      "apdh5jc": {
        "as": "arg1",
        "from": "apdh5jc",
        "to": "ril0xrx"
      },
      "args": {
        "as": "args",
        "from": "args",
        "to": "out"
      },
      "ay1mgi1": {
        "as": "_attribute",
        "from": "ay1mgi1",
        "to": "iwzvdj8"
      },
      "aygb0oi": {
        "as": "children",
        "from": "aygb0oi",
        "to": "apdh5jc"
      },
      "azhi5kp": {
        "as": "value",
        "from": "azhi5kp",
        "to": "4rmvxk1"
      },
      "b9gexfo": {
        "as": "otherwise",
        "from": "b9gexfo",
        "to": "vio1bz1"
      },
      "buoyv1q": {
        "as": "_inputgeofn",
        "from": "buoyv1q",
        "to": "iwzvdj8"
      },
      "dmibl2m": {
        "as": "otherwise",
        "from": "dmibl2m",
        "to": "mfs79iq"
      },
      "dtp36mu": {
        "as": "onchange",
        "from": "dtp36mu",
        "to": "1oskoai"
      },
      "dzvblfn": {
        "as": "args",
        "from": "dzvblfn",
        "to": "vn2sh9e"
      },
      "e7gu67v": {
        "as": "value",
        "from": "e7gu67v",
        "to": "3viy8mt"
      },
      "gjr14z1": {
        "as": "runnable",
        "from": "gjr14z1",
        "to": "my9677p"
      },
      "grcbu5k": {
        "as": "buffer",
        "from": "grcbu5k",
        "to": "scte9zo"
      },
      "h923zl1": {
        "as": "true",
        "from": "h923zl1",
        "to": "ph7ugf6"
      },
      "ha9sbe6": {
        "as": "arg0",
        "from": "ha9sbe6",
        "to": "yai4q6q"
      },
      "iwzvdj8": {
        "as": "args",
        "from": "iwzvdj8",
        "to": "rob86ty"
      },
      "l59yoji": {
        "as": "fn",
        "from": "l59yoji",
        "to": "na5dq7p"
      },
      "lsmnhra": {
        "as": "_animframe",
        "from": "lsmnhra",
        "to": "args"
      },
      "mb30fup": {
        "as": "_lag",
        "from": "mb30fup",
        "to": "iwzvdj8"
      },
      "mdgsecr": {
        "as": "feedback",
        "from": "mdgsecr",
        "to": "l59yoji"
      },
      "mfs79iq": {
        "as": "_fb",
        "from": "mfs79iq",
        "to": "iwzvdj8"
      },
      "mrpotq6": {
        "as": "value",
        "from": "mrpotq6",
        "to": "1eft9yl"
      },
      "my9677p": {
        "as": "false",
        "from": "my9677p",
        "to": "ph7ugf6"
      },
      "na5dq7p": {
        "as": "runnable",
        "from": "na5dq7p",
        "to": "7rukx50"
      },
      "nd6zslm": {
        "as": "_initgeofn",
        "from": "nd6zslm",
        "to": "iwzvdj8"
      },
      "nxcfe4q": {
        "as": "value",
        "from": "nxcfe4q",
        "to": "43bg3g9"
      },
      "o81ty2k": {
        "as": "lag",
        "from": "o81ty2k",
        "to": "l59yoji"
      },
      "orkrdzx": {
        "as": "value",
        "from": "orkrdzx",
        "to": "ay1mgi1"
      },
      "pbkuqjb": {
        "as": "initgeo",
        "from": "pbkuqjb",
        "to": "l59yoji"
      },
      "ph7ugf6": {
        "as": "_fn",
        "from": "ph7ugf6",
        "to": "iwzvdj8"
      },
      "pk1bbc4": {
        "as": "props",
        "from": "pk1bbc4",
        "to": "302jicy"
      },
      "qapcl0i": {
        "as": "type",
        "from": "qapcl0i",
        "to": "1oskoai"
      },
      "ril0xrx": {
        "as": "children",
        "from": "ril0xrx",
        "to": "8dy573e"
      },
      "rob86ty": {
        "as": "_updatefn",
        "from": "rob86ty",
        "to": "dzvblfn"
      },
      "s710e67": {
        "as": "value",
        "from": "s710e67",
        "to": "vn2sh9e"
      },
      "scte9zo": {
        "as": "value",
        "from": "scte9zo",
        "to": "u36qh21"
      },
      "sj0uocl": {
        "as": "attribute",
        "from": "sj0uocl",
        "to": "l59yoji"
      },
      "st1qot0": {
        "as": "_feedback",
        "from": "st1qot0",
        "to": "args"
      },
      "t9zciub": {
        "as": "checked",
        "from": "t9zciub",
        "to": "pk1bbc4"
      },
      "u36qh21": {
        "as": "_initbuffer",
        "from": "u36qh21",
        "to": "iwzvdj8"
      },
      "vio1bz1": {
        "as": "otherwise",
        "from": "vio1bz1",
        "to": "ay1mgi1"
      },
      "vkwxqas": {
        "as": "checked",
        "from": "vkwxqas",
        "to": "1oskoai"
      },
      "vn2sh9e": {
        "as": "value",
        "from": "vn2sh9e",
        "to": "out"
      },
      "y2ley4r": {
        "as": "value",
        "from": "y2ley4r",
        "to": "vio1bz1"
      },
      "y6jnnhr": {
        "as": "arg1",
        "from": "y6jnnhr",
        "to": "yai4q6q"
      },
      "yai4q6q": {
        "as": "children",
        "from": "yai4q6q",
        "to": "16s251p"
      }
    },
    "id": "@three.modify_attribute",
    "nodes": {
      "0tgg4sp": {
        "id": "0tgg4sp",
        "ref": "@flow.ap"
      },
      "16s251p": {
        "id": "16s251p",
        "ref": "@html.html_element"
      },
      "16witq1": {
        "id": "16witq1",
        "ref": "arg",
        "value": "_updatefn"
      },
      "1bqfz6p": {
        "id": "1bqfz6p"
      },
      "1eft9yl": {
        "id": "1eft9yl"
      },
      "1oskoai": {
        "id": "1oskoai"
      },
      "1tx5wnh": {
        "id": "1tx5wnh",
        "ref": "@html.html_text",
        "value": "update"
      },
      "2kxm8s0": {
        "id": "2kxm8s0",
        "ref": "arg",
        "value": "_initbuffer"
      },
      "302jicy": {
        "id": "302jicy",
        "ref": "@html.html_element",
        "value": "input"
      },
      "3viy8mt": {
        "id": "3viy8mt",
        "ref": "@memory.cache"
      },
      "43bg3g9": {
        "id": "43bg3g9"
      },
      "4rmvxk1": {
        "id": "4rmvxk1",
        "ref": "@memory.unwrap"
      },
      "5bfpjjf": {
        "id": "5bfpjjf",
        "ref": "arg",
        "value": "_animframe.set"
      },
      "7rukx50": {
        "id": "7rukx50",
        "ref": "@js.create_fn"
      },
      "8dy573e": {
        "id": "8dy573e",
        "ref": "@html.html_element"
      },
      "8dy8qvc": {
        "id": "8dy8qvc",
        "ref": "@flow.runnable"
      },
      "8itq35i": {
        "id": "8itq35i",
        "ref": "@js.script",
        "value": "update({_fn});"
      },
      "8uiwk65": {
        "id": "8uiwk65",
        "ref": "arg",
        "value": "_feedback.set"
      },
      "93xxksx": {
        "id": "93xxksx"
      },
      "9nh2xoa": {
        "id": "9nh2xoa",
        "ref": "arg",
        "value": "fn"
      },
      "9nre5m4": {
        "id": "9nre5m4",
        "ref": "arg",
        "value": "fn"
      },
      "9y9ya6h": {
        "id": "9y9ya6h",
        "ref": "arg",
        "value": "_inputgeofn"
      },
      "9ysk4pe": {
        "id": "9ysk4pe"
      },
      "ahl1omp": {
        "id": "ahl1omp",
        "ref": "arg",
        "value": "_fn"
      },
      "ai1ckv5": {
        "id": "ai1ckv5",
        "ref": "@js.script",
        "value": "return typeof fn === \"function\";"
      },
      "aj17mw0": {
        "id": "aj17mw0",
        "value": "checkbox"
      },
      "apdh5jc": {
        "id": "apdh5jc",
        "ref": "@html.html_element"
      },
      "args": {
        "id": "args"
      },
      "ay1mgi1": {
        "id": "ay1mgi1",
        "ref": "@flow.default"
      },
      "aygb0oi": {
        "id": "aygb0oi",
        "ref": "@data.array"
      },
      "azhi5kp": {
        "id": "azhi5kp",
        "ref": "arg",
        "value": "feedback"
      },
      "b9gexfo": {
        "id": "b9gexfo",
        "value": "position"
      },
      "buoyv1q": {
        "id": "buoyv1q",
        "ref": "arg",
        "value": "geo"
      },
      "dmibl2m": {
        "id": "dmibl2m",
        "ref": "arg",
        "value": "_feedback.state"
      },
      "dtp36mu": {
        "id": "dtp36mu",
        "ref": "@flow.ap"
      },
      "dzvblfn": {
        "id": "dzvblfn"
      },
      "e7gu67v": {
        "id": "e7gu67v",
        "ref": "@js.script",
        "value": "const geo = new _lib.THREE.BufferGeometry();\ngeo.setAttribute('position', new _lib.THREE.BufferAttribute( new Float32Array( [] ), 3));\ngeo.computeVertexNormals();\n\nreturn geo"
      },
      "gjr14z1": {
        "id": "gjr14z1",
        "ref": "arg",
        "value": "fn"
      },
      "grcbu5k": {
        "id": "grcbu5k"
      },
      "h923zl1": {
        "id": "h923zl1",
        "ref": "arg",
        "value": "fn"
      },
      "ha9sbe6": {
        "id": "ha9sbe6",
        "ref": "@html.html_element",
        "value": "input"
      },
      "iwzvdj8": {
        "id": "iwzvdj8"
      },
      "l59yoji": {
        "id": "l59yoji",
        "ref": "@js.script",
        "value": "const item_size = 3;\n\nconst count = inputgeo.getAttribute(\"position\").count;\n\nif(!feedback || initgeo.getAttribute(\"position\")?.count === 0) {\n  initgeo.copy(inputgeo);\n}\n\nif(!initbuffer.buffer || initbuffer.buffer.length !== count * item_size) {\n  initbuffer.buffer = new _lib.THREE.BufferAttribute(new Float32Array(count * item_size), item_size);\n}\n\nif((feedback ?  !initgeo.hasAttribute(attribute) : !inputgeo.hasAttribute(attribute)) || initgeo.getAttribute(attribute)?.count !== count) {\n  initgeo.setAttribute(attribute, initbuffer.buffer.clone());\n}\n\n\nconst attrs = Object.keys(initgeo.attributes);\n\nif (feedback) {\n  attrs.forEach(attr => {\n    if (attr !== attribute && inputgeo.hasAttribute(attr)) {\n      initgeo.getAttribute(attr)\n          .copy(inputgeo.getAttribute(attr))\n    }\n  })\n}\n\nconst currentAttr = (feedback || !inputgeo.hasAttribute(attribute) ? initgeo : inputgeo).getAttribute(attribute);\nconst targetAttr = initgeo.getAttribute(attribute);\nconst point_data = {};\n\n\nconst newVals = new Float32Array(item_size).fill(0)\n\nfor(let i = 0; i < count; i++){\n  newVals.set(currentAttr.array\n    .subarray(i * item_size, (i + 1) * item_size));\n  \n  attrs.forEach(attr => {\n    point_data[attr] = attr === attribute ? newVals : initgeo.getAttribute(attr).array\n    .subarray(i * item_size, (i + 1) * item_size)\n  })\n  \n  fn({point_data, index: i})\n  \n  if(lag) {\n    if(newVals[0] !== undefined) {\n    newVals[0] *= (1 - lag)\n    newVals[0] += lag * targetAttr.getX(i);\n    }\n    if(newVals[1] !== undefined) {\n    newVals[1] *= (1 - lag)\n    newVals[1] += lag * targetAttr.getY(i);\n    }\n    if(newVals[2] !== undefined) {\n    newVals[2] *= (1 - lag)\n    newVals[2] += lag * targetAttr.getZ(i);\n    }\n  }\n  \n  targetAttr.array.set(newVals, i * item_size)\n}\n\ntargetAttr.needsUpdate = true;\n\nreturn initgeo;"
      },
      "lsmnhra": {
        "id": "lsmnhra",
        "ref": "@memory.state"
      },
      "mb30fup": {
        "id": "mb30fup",
        "ref": "arg",
        "value": "lag"
      },
      "mdgsecr": {
        "id": "mdgsecr",
        "ref": "arg",
        "value": "_fb"
      },
      "mfs79iq": {
        "id": "mfs79iq",
        "ref": "@flow.default"
      },
      "mrpotq6": {
        "id": "mrpotq6",
        "ref": "arg",
        "value": "event.target.checked"
      },
      "my9677p": {
        "id": "my9677p",
        "ref": "@js.create_fn"
      },
      "na5dq7p": {
        "id": "na5dq7p",
        "ref": "@flow.runnable"
      },
      "nd6zslm": {
        "id": "nd6zslm",
        "ref": "arg",
        "value": "_initgeo"
      },
      "nxcfe4q": {
        "id": "nxcfe4q",
        "ref": "arg",
        "value": "event.target.checked"
      },
      "o81ty2k": {
        "id": "o81ty2k",
        "ref": "arg",
        "value": "_lag"
      },
      "orkrdzx": {
        "id": "orkrdzx",
        "ref": "arg",
        "value": "attribute"
      },
      "out": {
        "id": "out",
        "name": "@three.modify_attribute",
        "ref": "return"
      },
      "pbkuqjb": {
        "id": "pbkuqjb",
        "ref": "arg",
        "value": "_initgeofn"
      },
      "ph7ugf6": {
        "id": "ph7ugf6",
        "ref": "@flow.if"
      },
      "pk1bbc4": {
        "id": "pk1bbc4"
      },
      "qapcl0i": {
        "id": "qapcl0i",
        "value": "checkbox"
      },
      "ril0xrx": {
        "id": "ril0xrx",
        "ref": "@data.array"
      },
      "rob86ty": {
        "id": "rob86ty",
        "ref": "return"
      },
      "s710e67": {
        "id": "s710e67",
        "ref": "arg",
        "value": "_initgeo"
      },
      "scte9zo": {
        "id": "scte9zo"
      },
      "sj0uocl": {
        "id": "sj0uocl",
        "ref": "arg",
        "value": "_attribute"
      },
      "st1qot0": {
        "id": "st1qot0",
        "ref": "@memory.state"
      },
      "t9zciub": {
        "id": "t9zciub",
        "ref": "arg",
        "value": "_animframe.state"
      },
      "u36qh21": {
        "id": "u36qh21",
        "ref": "@memory.cache"
      },
      "vio1bz1": {
        "id": "vio1bz1",
        "ref": "@flow.default"
      },
      "vkwxqas": {
        "id": "vkwxqas",
        "ref": "arg",
        "value": "_feedback.state"
      },
      "vn2sh9e": {
        "id": "vn2sh9e",
        "ref": "return"
      },
      "y2ley4r": {
        "id": "y2ley4r",
        "ref": "arg",
        "value": "__graph_value"
      },
      "y6jnnhr": {
        "id": "y6jnnhr",
        "ref": "@html.html_text",
        "value": "feedback"
      },
      "yai4q6q": {
        "id": "yai4q6q",
        "ref": "@data.array"
      }
    },
    "out": "out"
  },
  {
    "description": "Create a three.js node corresponding to this node's value.",
    "edges": {
      "0e52p8o": {
        "as": "values",
        "from": "0e52p8o",
        "to": "r1c4ero"
      },
      "1vdqyt6": {
        "as": "value",
        "from": "1vdqyt6",
        "to": "f1wqp7p"
      },
      "20zj22n": {
        "as": "url",
        "from": "20zj22n",
        "to": "fzpv502"
      },
      "3gnkfqm": {
        "as": "name",
        "from": "3gnkfqm",
        "to": "wkm9i8b"
      },
      "3rdanfa": {
        "as": "value",
        "from": "3rdanfa",
        "to": "jxudqzz"
      },
      "4m8z9ps": {
        "as": "pred",
        "from": "4m8z9ps",
        "to": "sh1j4ks"
      },
      "4skly0x": {
        "as": "target",
        "from": "4skly0x",
        "to": "e4rdngl"
      },
      "6dpj05t": {
        "as": "path",
        "from": "6dpj05t",
        "to": "qc5yhrk"
      },
      "75msy7x": {
        "as": "args",
        "from": "75msy7x",
        "to": "9z6dqks"
      },
      "9z6dqks": {
        "as": "arg0",
        "from": "9z6dqks",
        "to": "e4rdngl"
      },
      "cepi41x": {
        "as": "parameters",
        "from": "cepi41x",
        "to": "r1c4ero"
      },
      "e4rdngl": {
        "as": "true",
        "from": "e4rdngl",
        "to": "sh1j4ks"
      },
      "f1wqp7p": {
        "as": "args",
        "from": "f1wqp7p",
        "to": "4skly0x"
      },
      "ftzgofv": {
        "as": "recache",
        "from": "ftzgofv",
        "to": "jxudqzz"
      },
      "fzpv502": {
        "as": "target",
        "from": "fzpv502",
        "to": "qc5yhrk"
      },
      "hafko00": {
        "as": "_threenode",
        "from": "hafko00",
        "to": "q4tskdl"
      },
      "jxudqzz": {
        "as": "node",
        "from": "jxudqzz",
        "to": "ra5i4nx"
      },
      "k9ru3vl": {
        "as": "pred",
        "from": "k9ru3vl",
        "to": "cepi41x"
      },
      "m77x5cf": {
        "as": "url",
        "from": "m77x5cf",
        "to": "o5sgysd"
      },
      "mbjab0h": {
        "as": "nodes",
        "from": "mbjab0h",
        "to": "0e52p8o"
      },
      "o5sgysd": {
        "as": "_nodes",
        "from": "o5sgysd",
        "to": "q4tskdl"
      },
      "q4hk4bw": {
        "as": "value",
        "from": "q4hk4bw",
        "to": "t2wl30j"
      },
      "q4tskdl": {
        "as": "args",
        "from": "q4tskdl",
        "to": "t2wl30j"
      },
      "qc5yhrk": {
        "as": "Node",
        "from": "qc5yhrk",
        "to": "4skly0x"
      },
      "r1c4ero": {
        "as": "metadata",
        "from": "r1c4ero",
        "to": "t2wl30j"
      },
      "ra5i4nx": {
        "as": "true",
        "from": "ra5i4nx",
        "to": "cepi41x"
      },
      "sh1j4ks": {
        "as": "value",
        "from": "sh1j4ks",
        "to": "hafko00"
      },
      "t90v2ws": {
        "as": "returnFn",
        "from": "t90v2ws",
        "to": "4skly0x"
      },
      "trskf8g": {
        "as": "value",
        "from": "trskf8g",
        "to": "ftzgofv"
      },
      "wkm9i8b": {
        "as": "args",
        "from": "wkm9i8b",
        "to": "hafko00"
      },
      "wm6hu13": {
        "as": "otherwise",
        "from": "wm6hu13",
        "to": "f1wqp7p"
      }
    },
    "id": "@three.node",
    "name": "FxPass",
    "nodes": {
      "0e52p8o": {
        "id": "0e52p8o",
        "ref": "@js.script",
        "value": "return Object.keys(nodes);"
      },
      "1vdqyt6": {
        "id": "1vdqyt6",
        "ref": "arg",
        "value": "args"
      },
      "20zj22n": {
        "id": "20zj22n",
        "ref": "@js.script",
        "value": "\nreturn `https://cdn.jsdelivr.net/npm/three/examples/jsm/nodes/Nodes.js`"
      },
      "3gnkfqm": {
        "id": "3gnkfqm",
        "ref": "arg",
        "value": "__graph_value"
      },
      "3rdanfa": {
        "id": "3rdanfa",
        "ref": "arg",
        "value": "_threenode"
      },
      "4m8z9ps": {
        "id": "4m8z9ps",
        "ref": "arg",
        "value": "__graph_value"
      },
      "4skly0x": {
        "id": "4skly0x",
        "ref": "@js.script",
        "value": "if(returnFn) return Node;\n\nconst argArr = (Array.isArray(args) ? args : [args]);\ntry {\n  return new Node(...argArr)\n}catch(e){}\nreturn typeof Node === \"function\" ?  Node(...argArr) : Node;"
      },
      "6dpj05t": {
        "id": "6dpj05t",
        "ref": "arg",
        "value": "name"
      },
      "75msy7x": {
        "id": "75msy7x",
        "ref": "arg",
        "value": "_args"
      },
      "9z6dqks": {
        "id": "9z6dqks",
        "ref": "@js.script",
        "value": "const ret = new Map(args);\nret.delete(\"args\")\nreturn ret;"
      },
      "cepi41x": {
        "id": "cepi41x",
        "ref": "@flow.if"
      },
      "e4rdngl": {
        "id": "e4rdngl",
        "ref": "@data.merge_objects_mutable"
      },
      "f1wqp7p": {
        "id": "f1wqp7p",
        "ref": "@flow.default"
      },
      "ftzgofv": {
        "id": "ftzgofv",
        "ref": "@data.ischanged"
      },
      "fzpv502": {
        "hafko00": "8f5duig",
        "id": "fzpv502",
        "ref": "@js.import_module"
      },
      "hafko00": {
        "id": "hafko00",
        "ref": "return"
      },
      "jxudqzz": {
        "id": "jxudqzz",
        "ref": "@memory.cache"
      },
      "k9ru3vl": {
        "id": "k9ru3vl",
        "ref": "arg",
        "value": "_threenode"
      },
      "m77x5cf": {
        "id": "m77x5cf",
        "ref": "@js.script",
        "value": "\nreturn `https://cdn.jsdelivr.net/npm/three/examples/jsm/nodes/Nodes.js`"
      },
      "mbjab0h": {
        "id": "mbjab0h",
        "ref": "arg",
        "value": "_nodes"
      },
      "o5sgysd": {
        "hafko00": "8f5duig",
        "id": "o5sgysd",
        "ref": "@js.import_module"
      },
      "q4hk4bw": {
        "id": "q4hk4bw",
        "ref": "arg",
        "value": "_threenode"
      },
      "q4tskdl": {
        "id": "q4tskdl"
      },
      "qc5yhrk": {
        "id": "qc5yhrk",
        "ref": "@data.get"
      },
      "r1c4ero": {
        "id": "r1c4ero"
      },
      "ra5i4nx": {
        "id": "ra5i4nx",
        "ref": "@js.script",
        "value": "const keys = Array.from(Object.keys(node)).filter(k => !k.startsWith(\"_\") && !k.startsWith(\"is\") && k.endsWith(\"Node\"))\nreturn Object.fromEntries(keys.map(k => [k, {type: \"@three.node\"}]));"
      },
      "sh1j4ks": {
        "id": "sh1j4ks",
        "ref": "@flow.if"
      },
      "t2wl30j": {
        "id": "t2wl30j",
        "name": "@three.node",
        "ref": "return"
      },
      "t90v2ws": {
        "id": "t90v2ws",
        "ref": "arg",
        "value": "returnFn"
      },
      "trskf8g": {
        "id": "trskf8g",
        "ref": "arg",
        "value": "__graph_value"
      },
      "wkm9i8b": {
        "id": "wkm9i8b"
      },
      "wm6hu13": {
        "id": "wm6hu13",
        "value": "[]"
      }
    },
    "out": "t2wl30j"
  },
  {
    "edges": {
      "0h50cp9": {
        "as": "otherwise",
        "from": "0h50cp9",
        "to": "t1a0zc0"
      },
      "4u70a4f": {
        "as": "pd",
        "from": "4u70a4f",
        "to": "j7h7k36"
      },
      "77oy5ui": {
        "as": "value",
        "from": "77oy5ui",
        "to": "jmrf097"
      },
      "7f9x6vd": {
        "as": "point_data",
        "from": "7f9x6vd",
        "to": "speyvvr"
      },
      "7h0jtuu": {
        "as": "args",
        "from": "7h0jtuu",
        "to": "ojnm60e"
      },
      "7nv64y5": {
        "as": "seed",
        "from": "7nv64y5",
        "to": "hlpaehv"
      },
      "7p23im9": {
        "as": "lag",
        "from": "7p23im9",
        "to": "zqoy0ns"
      },
      "8w4dr8z": {
        "as": "geo",
        "from": "8w4dr8z",
        "to": "zqoy0ns"
      },
      "aei1g0u": {
        "as": "_attr",
        "from": "aei1g0u",
        "to": "gga6vxe"
      },
      "au6fgxu": {
        "as": "value",
        "from": "au6fgxu",
        "to": "tu2qo0y"
      },
      "fumqk1i": {
        "as": "runnable",
        "from": "fumqk1i",
        "to": "77oy5ui"
      },
      "gga6vxe": {
        "as": "args",
        "from": "gga6vxe",
        "to": "jmrf097"
      },
      "gvyw0za": {
        "as": "value",
        "from": "gvyw0za",
        "to": "t1a0zc0"
      },
      "hlpaehv": {
        "as": "_rand",
        "from": "hlpaehv",
        "to": "gga6vxe"
      },
      "it2r6xy": {
        "as": "feedback",
        "from": "it2r6xy",
        "to": "zqoy0ns"
      },
      "j7h7k36": {
        "as": "fn",
        "from": "j7h7k36",
        "to": "fumqk1i"
      },
      "jmrf097": {
        "as": "fn",
        "from": "jmrf097",
        "to": "zqoy0ns"
      },
      "ka9kj3m": {
        "as": "attribute",
        "from": "ka9kj3m",
        "to": "zqoy0ns"
      },
      "speyvvr": {
        "as": "parameters",
        "from": "speyvvr",
        "to": "fumqk1i"
      },
      "t1a0zc0": {
        "as": "otherwise",
        "from": "t1a0zc0",
        "to": "tu2qo0y"
      },
      "tfcak1h": {
        "as": "attribute",
        "from": "tfcak1h",
        "to": "j7h7k36"
      },
      "tu2qo0y": {
        "as": "_attribute",
        "from": "tu2qo0y",
        "to": "7h0jtuu"
      },
      "xdx395l": {
        "as": "rand",
        "from": "xdx395l",
        "to": "j7h7k36"
      },
      "zqoy0ns": {
        "as": "value",
        "from": "zqoy0ns",
        "to": "ojnm60e"
      }
    },
    "id": "@three.randomizeAttribute",
    "name": "@three.randomizeAttribute",
    "nodes": {
      "0h50cp9": {
        "id": "0h50cp9",
        "value": "position"
      },
      "4u70a4f": {
        "id": "4u70a4f",
        "ref": "arg",
        "value": "point_data"
      },
      "77oy5ui": {
        "id": "77oy5ui",
        "ref": "@js.create_fn"
      },
      "7f9x6vd": {
        "id": "7f9x6vd"
      },
      "7h0jtuu": {
        "id": "7h0jtuu"
      },
      "7nv64y5": {
        "id": "7nv64y5",
        "ref": "arg",
        "value": "seed"
      },
      "7p23im9": {
        "id": "7p23im9",
        "ref": "arg",
        "value": "lag"
      },
      "8w4dr8z": {
        "id": "8w4dr8z",
        "ref": "arg",
        "value": "geo"
      },
      "aei1g0u": {
        "id": "aei1g0u",
        "ref": "arg",
        "value": "_attribute"
      },
      "au6fgxu": {
        "id": "au6fgxu",
        "ref": "arg",
        "value": "attribute"
      },
      "fumqk1i": {
        "id": "fumqk1i",
        "ref": "@flow.runnable"
      },
      "gga6vxe": {
        "id": "gga6vxe"
      },
      "gvyw0za": {
        "id": "gvyw0za",
        "ref": "arg",
        "value": "__graph_value"
      },
      "hlpaehv": {
        "id": "hlpaehv",
        "ref": "@math.random"
      },
      "it2r6xy": {
        "id": "it2r6xy",
        "ref": "arg",
        "value": "lag"
      },
      "j7h7k36": {
        "id": "j7h7k36",
        "ref": "@js.script",
        "value": "if(pd[attribute]){\n  pd[attribute][0] = rand();\n}"
      },
      "jmrf097": {
        "id": "jmrf097",
        "ref": "return"
      },
      "ka9kj3m": {
        "id": "ka9kj3m",
        "ref": "arg",
        "value": "_attribute"
      },
      "ojnm60e": {
        "id": "ojnm60e",
        "name": "@three.randomizeAttribute",
        "ref": "return"
      },
      "speyvvr": {
        "id": "speyvvr"
      },
      "t1a0zc0": {
        "id": "t1a0zc0",
        "ref": "@flow.default"
      },
      "tfcak1h": {
        "id": "tfcak1h",
        "ref": "arg",
        "value": "_attr"
      },
      "tu2qo0y": {
        "id": "tu2qo0y",
        "ref": "@flow.default"
      },
      "xdx395l": {
        "id": "xdx395l",
        "ref": "arg",
        "value": "_rand"
      },
      "zqoy0ns": {
        "id": "zqoy0ns",
        "ref": "@three.modify_attribute"
      }
    },
    "out": "ojnm60e"
  },
  {
    "edges": {
      "cwl59lh": {
        "as": "canvas",
        "from": "cwl59lh",
        "to": "x4zdk2w"
      },
      "eyftv46": {
        "as": "canvas",
        "from": "eyftv46",
        "to": "xsjuu4i"
      },
      "lihjkfp": {
        "as": "value",
        "from": "lihjkfp",
        "to": "main/out"
      },
      "x4zdk2w": {
        "as": "true",
        "from": "x4zdk2w",
        "to": "lihjkfp"
      },
      "xsjuu4i": {
        "as": "pred",
        "from": "xsjuu4i",
        "to": "lihjkfp"
      }
    },
    "id": "@three.renderer",
    "nodes": {
      "bfr8z38": {
        "id": "bfr8z38",
        "ref": "arg",
        "value": "_lib.THREE"
      },
      "cwl59lh": {
        "id": "cwl59lh",
        "name": "",
        "ref": "arg",
        "value": "canvas"
      },
      "eyftv46": {
        "id": "eyftv46",
        "ref": "arg",
        "value": "canvas"
      },
      "lihjkfp": {
        "id": "lihjkfp",
        "ref": "@flow.if"
      },
      "main/out": {
        "__isnodysseus": true,
        "id": "main/out",
        "name": "@three.renderer",
        "ref": "return"
      },
      "x4zdk2w": {
        "id": "x4zdk2w",
        "ref": "@js.script",
        "value": "const renderer = new _lib.THREE.WebGLRenderer({canvas});\nreturn renderer"
      },
      "xsjuu4i": {
        "id": "xsjuu4i",
        "ref": "@js.script",
        "value": "console.log(_lib.THREE)\nreturn _lib.THREE && canvas;"
      }
    },
    "out": "main/out"
  },
  {
    "edges": {
      "03ns8ge": {
        "as": "y",
        "from": "03ns8ge",
        "to": "4wzidla"
      },
      "0fgeyce": {
        "as": "fn",
        "from": "0fgeyce",
        "to": "8djx49x"
      },
      "1i4pnz3": {
        "as": "fn",
        "from": "1i4pnz3",
        "to": "ao5fl0s"
      },
      "21wgox5": {
        "as": "fn",
        "from": "21wgox5",
        "to": "s5oytwl"
      },
      "3zm5bbp": {
        "as": "collider",
        "from": "3zm5bbp",
        "to": "sfuqrow"
      },
      "4wzidla": {
        "as": "args",
        "from": "4wzidla",
        "to": "w3zhyyl"
      },
      "54em49h": {
        "as": "geometry",
        "from": "54em49h",
        "to": "sfuqrow"
      },
      "5ko6kz5": {
        "as": "crb",
        "from": "5ko6kz5",
        "to": "ixzjghn"
      },
      "5po9uvs": {
        "as": "parameters",
        "from": "5po9uvs",
        "to": "ot9c6mz"
      },
      "5sy92ah": {
        "as": "rigidbody",
        "from": "5sy92ah",
        "to": "i01a19a"
      },
      "69hpngq": {
        "as": "array",
        "from": "69hpngq",
        "to": "owjqtfn"
      },
      "6cpx2wx": {
        "as": "SphereGeometry",
        "from": "6cpx2wx",
        "to": "enazdqb"
      },
      "6hi7rw0": {
        "as": "args",
        "from": "6hi7rw0",
        "to": "gvu1q6y"
      },
      "73h3umc": {
        "as": "mass",
        "from": "73h3umc",
        "to": "3zm5bbp"
      },
      "7ov8tko": {
        "as": "true",
        "from": "7ov8tko",
        "to": "0fgeyce"
      },
      "7pjdjwe": {
        "as": "value",
        "from": "7pjdjwe",
        "to": "6hi7rw0"
      },
      "83hzvsj": {
        "as": "run",
        "from": "83hzvsj",
        "to": "bgtr7ba"
      },
      "83lkbju": {
        "as": "args",
        "from": "83lkbju",
        "to": "frntsqg"
      },
      "8bs2khl": {
        "as": "arg3",
        "from": "8bs2khl",
        "to": "1i4pnz3"
      },
      "8djx49x": {
        "as": "fn",
        "from": "8djx49x",
        "to": "owjqtfn"
      },
      "8pky31m": {
        "as": "colliderParmMap",
        "from": "8pky31m",
        "to": "3zm5bbp"
      },
      "9ll3fkp": {
        "as": "BoxGeometry",
        "from": "9ll3fkp",
        "to": "enazdqb"
      },
      "anh8wqs": {
        "as": "fn",
        "from": "anh8wqs",
        "to": "8bs2khl"
      },
      "ao5fl0s": {
        "as": "animationframe",
        "from": "ao5fl0s",
        "to": "ozhnlv4"
      },
      "ay63j9f": {
        "as": "element",
        "from": "ay63j9f",
        "to": "5po9uvs"
      },
      "bgtr7ba": {
        "as": "force",
        "from": "bgtr7ba",
        "to": "ixzjghn"
      },
      "bjuwpqu": {
        "as": "rapier",
        "from": "bjuwpqu",
        "to": "y733ovp"
      },
      "blrtm8w": {
        "as": "world",
        "from": "blrtm8w",
        "to": "sfuqrow"
      },
      "c8a4hfm": {
        "as": "rbs",
        "from": "c8a4hfm",
        "to": "jw9pl8x"
      },
      "d4ucj9i": {
        "as": "parameters",
        "from": "d4ucj9i",
        "to": "8bs2khl"
      },
      "dm0bpnv": {
        "as": "rapier",
        "from": "dm0bpnv",
        "to": "x2lykkd"
      },
      "dngwpkm": {
        "as": "objects",
        "from": "dngwpkm",
        "to": "d4ucj9i"
      },
      "dw4b19c": {
        "as": "rapier",
        "from": "dw4b19c",
        "to": "o3by05u"
      },
      "dywjp8t": {
        "as": "rapier",
        "from": "dywjp8t",
        "to": "fd863ix"
      },
      "e1j2ta4": {
        "as": "ConeGeometry",
        "from": "e1j2ta4",
        "to": "enazdqb"
      },
      "e35ur0l": {
        "as": "geoType",
        "from": "e35ur0l",
        "to": "3zm5bbp"
      },
      "enazdqb": {
        "as": "colliderTypeMap",
        "from": "enazdqb",
        "to": "3zm5bbp"
      },
      "fd863ix": {
        "as": "arg0",
        "from": "fd863ix",
        "to": "o3by05u"
      },
      "fkv7ias": {
        "as": "SphereGeometry",
        "from": "fkv7ias",
        "to": "8pky31m"
      },
      "fts63kg": {
        "as": "world",
        "from": "fts63kg",
        "to": "7ov8tko"
      },
      "g54m47e": {
        "as": "parms",
        "from": "g54m47e",
        "to": "ip2bi2m"
      },
      "g57d43u": {
        "as": "rbhandle",
        "from": "g57d43u",
        "to": "7ov8tko"
      },
      "gvu1q6y": {
        "as": "value",
        "from": "gvu1q6y",
        "to": "frntsqg"
      },
      "gzxbs76": {
        "as": "fn",
        "from": "gzxbs76",
        "to": "bgtr7ba"
      },
      "i01a19a": {
        "as": "args",
        "from": "i01a19a",
        "to": "bgtr7ba"
      },
      "ip2bi2m": {
        "as": "BoxGeometry",
        "from": "ip2bi2m",
        "to": "8pky31m"
      },
      "iuggec5": {
        "as": "object3d",
        "from": "iuggec5",
        "to": "i01a19a"
      },
      "ixzjghn": {
        "as": "fn",
        "from": "ixzjghn",
        "to": "ot9c6mz"
      },
      "jw9pl8x": {
        "as": "array",
        "from": "jw9pl8x",
        "to": "anh8wqs"
      },
      "jzjdu4d": {
        "as": "objects",
        "from": "jzjdu4d",
        "to": "jw9pl8x"
      },
      "lh6scy9": {
        "as": "value",
        "from": "lh6scy9",
        "to": "ywzlpf4"
      },
      "mwc8rm0": {
        "as": "value",
        "from": "mwc8rm0",
        "to": "gvu1q6y"
      },
      "nru6wao": {
        "as": "pred",
        "from": "nru6wao",
        "to": "0fgeyce"
      },
      "o3by05u": {
        "as": "value",
        "from": "o3by05u",
        "to": "vx1ylwk"
      },
      "omfoh9h": {
        "as": "world",
        "from": "omfoh9h",
        "to": "ixzjghn"
      },
      "ot9c6mz": {
        "as": "fn",
        "from": "ot9c6mz",
        "to": "anh8wqs"
      },
      "owjqtfn": {
        "as": "rbs",
        "from": "owjqtfn",
        "to": "7pjdjwe"
      },
      "ozhnlv4": {
        "as": "subscribe",
        "from": "ozhnlv4",
        "to": "gvu1q6y"
      },
      "q106l34": {
        "as": "parms",
        "from": "q106l34",
        "to": "fkv7ias"
      },
      "qf3uf1n": {
        "as": "ConeGeometry",
        "from": "qf3uf1n",
        "to": "8pky31m"
      },
      "qg0st8d": {
        "as": "parms",
        "from": "qg0st8d",
        "to": "qf3uf1n"
      },
      "qt6lu54": {
        "as": "z",
        "from": "qt6lu54",
        "to": "4wzidla"
      },
      "qy3jq77": {
        "as": "element",
        "from": "qy3jq77",
        "to": "vqn95sa"
      },
      "rlibzs1": {
        "as": "self",
        "from": "rlibzs1",
        "to": "21wgox5"
      },
      "s5oytwl": {
        "as": "arg1",
        "from": "s5oytwl",
        "to": "1i4pnz3"
      },
      "sfuqrow": {
        "as": "false",
        "from": "sfuqrow",
        "to": "0fgeyce"
      },
      "sjiatdj": {
        "as": "world",
        "from": "sjiatdj",
        "to": "7pjdjwe"
      },
      "t76ww4p": {
        "as": "geo",
        "from": "t76ww4p",
        "to": "3zm5bbp"
      },
      "u0a24rg": {
        "as": "x",
        "from": "u0a24rg",
        "to": "4wzidla"
      },
      "vqn95sa": {
        "as": "parameters",
        "from": "vqn95sa",
        "to": "8djx49x"
      },
      "vx1ylwk": {
        "as": "value",
        "from": "vx1ylwk",
        "to": "dm0bpnv"
      },
      "w3zhyyl": {
        "as": "world",
        "from": "w3zhyyl",
        "to": "lh6scy9"
      },
      "x2lykkd": {
        "as": "lib",
        "from": "x2lykkd",
        "to": "frntsqg"
      },
      "y733ovp": {
        "as": "args",
        "from": "y733ovp",
        "to": "vx1ylwk"
      },
      "ywzlpf4": {
        "as": "world",
        "from": "ywzlpf4",
        "to": "zeduey1"
      },
      "zeduey1": {
        "as": "args",
        "from": "zeduey1",
        "to": "6hi7rw0"
      }
    },
    "id": "@three.rigidbodysimulation",
    "name": "@three.rigidbodysimulation",
    "nodes": {
      "03ns8ge": {
        "id": "03ns8ge",
        "value": "-9.81"
      },
      "0fgeyce": {
        "id": "0fgeyce",
        "ref": "@flow.if"
      },
      "1i4pnz3": {
        "id": "1i4pnz3",
        "ref": "@data.array"
      },
      "21wgox5": {
        "id": "21wgox5",
        "ref": "@js.call",
        "value": "step"
      },
      "3zm5bbp": {
        "id": "3zm5bbp",
        "ref": "@js.script",
        "value": "const name = geoType.constructor.name;\nif(name && colliderTypeMap[name] && colliderParmMap[name]) {\nreturn _lib.rapier.ColliderDesc[colliderTypeMap[name]](...colliderParmMap[name]).setMass(mass);\n} else {\n  const pos = geo.getAttribute(\"position\");\n  const points = new Array(pos.count).fill(0).map((_, idx) => (new _lib.THREE.Vector3()).fromBufferAttribute(pos, idx));\n  return _lib.rapier.ColliderDesc. convexHull(pos.array).setMass(mass)\n}"
      },
      "4wzidla": {
        "id": "4wzidla"
      },
      "54em49h": {
        "id": "54em49h",
        "ref": "arg",
        "value": "element"
      },
      "5ko6kz5": {
        "id": "5ko6kz5",
        "ref": "arg",
        "value": "element"
      },
      "5po9uvs": {
        "id": "5po9uvs"
      },
      "5sy92ah": {
        "id": "5sy92ah",
        "ref": "arg",
        "value": "element.1"
      },
      "69hpngq": {
        "id": "69hpngq",
        "ref": "arg",
        "value": "geometry"
      },
      "6cpx2wx": {
        "id": "6cpx2wx",
        "value": "ball"
      },
      "6hi7rw0": {
        "id": "6hi7rw0",
        "ref": "return"
      },
      "73h3umc": {
        "id": "73h3umc",
        "value": "0.05"
      },
      "7ov8tko": {
        "id": "7ov8tko",
        "ref": "@js.script",
        "value": "return world.getRigidBody(rbhandle);"
      },
      "7pjdjwe": {
        "id": "7pjdjwe"
      },
      "83hzvsj": {
        "id": "83hzvsj",
        "value": "true"
      },
      "83lkbju": {
        "id": "83lkbju"
      },
      "8bs2khl": {
        "id": "8bs2khl",
        "ref": "@flow.runnable"
      },
      "8djx49x": {
        "id": "8djx49x",
        "ref": "@flow.runnable"
      },
      "8pky31m": {
        "id": "8pky31m"
      },
      "9ll3fkp": {
        "id": "9ll3fkp",
        "value": "cuboid"
      },
      "anh8wqs": {
        "id": "anh8wqs",
        "ref": "@data.map"
      },
      "ao5fl0s": {
        "id": "ao5fl0s",
        "ref": "@flow.ap"
      },
      "ay63j9f": {
        "id": "ay63j9f"
      },
      "bgtr7ba": {
        "id": "bgtr7ba",
        "ref": "@flow.ap"
      },
      "bjuwpqu": {
        "id": "bjuwpqu",
        "ref": "@js.import_module",
        "value": "https://cdn.skypack.dev/@dimforge/rapier3d-compat"
      },
      "blrtm8w": {
        "id": "blrtm8w",
        "ref": "arg",
        "value": "world"
      },
      "c8a4hfm": {
        "id": "c8a4hfm",
        "ref": "arg",
        "value": "rbs"
      },
      "d4ucj9i": {
        "id": "d4ucj9i"
      },
      "dm0bpnv": {
        "id": "dm0bpnv",
        "ref": "@memory.cache"
      },
      "dngwpkm": {
        "id": "dngwpkm"
      },
      "dw4b19c": {
        "id": "dw4b19c",
        "ref": "arg",
        "value": "rapier"
      },
      "dywjp8t": {
        "id": "dywjp8t",
        "ref": "arg",
        "value": "rapier"
      },
      "e1j2ta4": {
        "id": "e1j2ta4",
        "value": "cone"
      },
      "e35ur0l": {
        "id": "e35ur0l",
        "ref": "arg",
        "value": "element.geometry"
      },
      "enazdqb": {
        "id": "enazdqb"
      },
      "fd863ix": {
        "id": "fd863ix",
        "ref": "@js.script",
        "value": "return rapier.init();"
      },
      "fkv7ias": {
        "id": "fkv7ias",
        "ref": "@data.array"
      },
      "frntsqg": {
        "id": "frntsqg",
        "name": "@three.rigidbodysimulation",
        "ref": "return"
      },
      "fts63kg": {
        "id": "fts63kg",
        "ref": "arg",
        "value": "world"
      },
      "g54m47e": {
        "id": "g54m47e",
        "ref": "arg",
        "value": "element.geometry.parameters"
      },
      "g57d43u": {
        "id": "g57d43u",
        "ref": "arg",
        "value": "element.userData.rigidbodyHandle"
      },
      "gvu1q6y": {
        "id": "gvu1q6y",
        "ref": "return"
      },
      "gzxbs76": {
        "id": "gzxbs76",
        "ref": "arg",
        "value": "updateForce"
      },
      "i01a19a": {
        "id": "i01a19a"
      },
      "ip2bi2m": {
        "id": "ip2bi2m",
        "ref": "@js.script",
        "value": "if(parms){\nreturn [parms.width * 0.5, parms.height * 0.5, parms.depth * 0.5];\n}"
      },
      "iuggec5": {
        "id": "iuggec5",
        "ref": "arg",
        "value": "element.0"
      },
      "ixzjghn": {
        "id": "ixzjghn",
        "ref": "@js.script",
        "value": "const cube = crb[0]\nconst rb = crb[1]\n\nif(cube.userData.kinematic){  rb.setNextKinematicTranslation(cube.position);\n  rb.setNextKinematicRotation(cube.rotation);\n} else {\n  const pos = {...rb.translation()};\ncube.position.copy(pos);\n  cube.quaternion.copy(rb.rotation());\n\nrb.resetForces(true);\n\nif(force) {\nrb.addForce(force, true)\n}\n}\n "
      },
      "jw9pl8x": {
        "id": "jw9pl8x",
        "ref": "@js.script",
        "value": "return objects.map((obj, i) => [obj, rbs[i]])"
      },
      "jzjdu4d": {
        "id": "jzjdu4d",
        "ref": "arg",
        "value": "geometry"
      },
      "lh6scy9": {
        "id": "lh6scy9",
        "ref": "@js.script",
        "value": "let groundColliderDesc = _lib.rapier.ColliderDesc.cuboid(10.0, 0, 10.0);\n\nworld.createCollider(groundColliderDesc);\n\nreturn world;"
      },
      "mwc8rm0": {
        "id": "mwc8rm0",
        "ref": "arg",
        "value": "geometry"
      },
      "nru6wao": {
        "id": "nru6wao",
        "ref": "arg",
        "value": "element.userData.rigidbodyHandle"
      },
      "o3by05u": {
        "id": "o3by05u",
        "ref": "@js.script",
        "value": "\nreturn rapier"
      },
      "omfoh9h": {
        "id": "omfoh9h",
        "ref": "arg",
        "value": "world"
      },
      "ot9c6mz": {
        "id": "ot9c6mz",
        "ref": "@flow.runnable"
      },
      "owjqtfn": {
        "id": "owjqtfn",
        "ref": "@data.map"
      },
      "ozhnlv4": {
        "id": "ozhnlv4"
      },
      "q106l34": {
        "id": "q106l34",
        "ref": "arg",
        "value": "element.geometry.parameters.radius"
      },
      "qf3uf1n": {
        "id": "qf3uf1n",
        "ref": "@js.script",
        "value": "if(parms){\nreturn [parms.height * 0.5, parms.radius];\n}"
      },
      "qg0st8d": {
        "id": "qg0st8d",
        "ref": "arg",
        "value": "element.geometry.parameters"
      },
      "qt6lu54": {
        "id": "qt6lu54",
        "value": "0"
      },
      "qy3jq77": {
        "id": "qy3jq77"
      },
      "rlibzs1": {
        "id": "rlibzs1",
        "ref": "arg",
        "value": "world"
      },
      "s5oytwl": {
        "id": "s5oytwl",
        "ref": "@flow.runnable"
      },
      "sfuqrow": {
        "id": "sfuqrow",
        "ref": "@js.script",
        "value": "if(geometry){\nconst body =  geometry.userData?.kinematic ? _lib.rapier.RigidBodyDesc.kinematicPositionBased() :  _lib.rapier.RigidBodyDesc.dynamic()\n  .setLinearDamping(0.2);\nconst rb = world.createRigidBody(body);\nrb.setTranslation(geometry.position);\n\n  world.createCollider(collider, rb);\ngeometry.userData.rigidbodyHandle = rb.handle;\nreturn rb\n}"
      },
      "sjiatdj": {
        "id": "sjiatdj",
        "ref": "arg",
        "value": "world"
      },
      "t76ww4p": {
        "id": "t76ww4p",
        "ref": "arg",
        "value": "element.geometry"
      },
      "u0a24rg": {
        "id": "u0a24rg",
        "value": "0"
      },
      "vqn95sa": {
        "id": "vqn95sa"
      },
      "vx1ylwk": {
        "id": "vx1ylwk",
        "ref": "return"
      },
      "w3zhyyl": {
        "id": "w3zhyyl",
        "ref": "@js.script",
        "value": "return new _lib.rapier.World(args);"
      },
      "x2lykkd": {
        "id": "x2lykkd"
      },
      "y733ovp": {
        "id": "y733ovp"
      },
      "ywzlpf4": {
        "id": "ywzlpf4",
        "ref": "@memory.cache"
      },
      "zeduey1": {
        "id": "zeduey1"
      }
    },
    "out": "frntsqg"
  },
  {
    "edges": {
      "x4zdk2w": {
        "as": "value",
        "from": "x4zdk2w",
        "to": "main/out"
      }
    },
    "id": "@three.scene",
    "nodes": {
      "main/out": {
        "__isnodysseus": true,
        "id": "main/out",
        "name": "@three.scene",
        "ref": "return"
      },
      "x4zdk2w": {
        "id": "x4zdk2w",
        "ref": "@js.new",
        "value": "THREE.Scene"
      }
    },
    "out": "main/out"
  },
  {
    "description": "Creates a basic three.js scene with a camera, renderer, and scene. The `objects` input has the objects of the scene, evaluated every frame - make sure to cache. The `onupdate` input is a runnable with parameters `objects`, `camera`, and `scene` which is run every frame - keep. The `fx` input has effects for an EffectComposer.",
    "edges": {
      "0wp18c9": {
        "as": "args",
        "from": "0wp18c9",
        "to": "e9d6mmx"
      },
      "1j95u16": {
        "as": "canvas",
        "from": "1j95u16",
        "to": "hsytqp3"
      },
      "1js087x": {
        "as": "camera",
        "from": "1js087x",
        "to": "dyst9ju"
      },
      "23ppkmp": {
        "as": "pred",
        "from": "23ppkmp",
        "to": "vzmvbqh"
      },
      "2veqlq1": {
        "as": "scene",
        "from": "2veqlq1",
        "to": "m291v0o"
      },
      "3876w2f": {
        "as": "true",
        "from": "3876w2f",
        "to": "vzmvbqh"
      },
      "40aw44l": {
        "as": "_renderer",
        "from": "40aw44l",
        "to": "8m5muxn/39ivise"
      },
      "4a9zo9a": {
        "as": "value",
        "from": "4a9zo9a",
        "to": "kipwn58"
      },
      "4fxcgml": {
        "as": "renderer",
        "from": "4fxcgml",
        "to": "5m99dxg"
      },
      "4j2wgr9": {
        "as": "fn",
        "from": "4j2wgr9",
        "to": "ryjjzqr"
      },
      "5gt2zai": {
        "as": "fn",
        "from": "5gt2zai",
        "to": "z51c26o"
      },
      "5m99dxg": {
        "as": "true",
        "from": "5m99dxg",
        "to": "aqfc51v"
      },
      "6s18wo7": {
        "as": "camera",
        "from": "6s18wo7",
        "to": "lugpx4o"
      },
      "7c7zppx": {
        "as": "arg2",
        "from": "7c7zppx",
        "to": "c6eig78"
      },
      "7peak26": {
        "as": "value",
        "from": "7peak26",
        "to": "vl4foaa"
      },
      "8ivgw9u": {
        "as": "false",
        "from": "8ivgw9u",
        "to": "na6fxum"
      },
      "8m5muxn/33kmaec": {
        "as": "target",
        "from": "8m5muxn/33kmaec",
        "to": "8m5muxn/7in78pu"
      },
      "8m5muxn/39ivise": {
        "as": "args",
        "from": "8m5muxn/39ivise",
        "to": "8m5muxn/8m5muxn"
      },
      "8m5muxn/7in78pu": {
        "as": "_camera",
        "from": "8m5muxn/7in78pu",
        "to": "8m5muxn/hlqmo48"
      },
      "8m5muxn/gwavfrm": {
        "as": "value",
        "from": "8m5muxn/gwavfrm",
        "to": "8m5muxn/inq87j9"
      },
      "8m5muxn/hlqmo48": {
        "as": "args",
        "from": "8m5muxn/hlqmo48",
        "to": "8m5muxn/njzfcz8"
      },
      "8m5muxn/inq87j9": {
        "as": "_scene",
        "from": "8m5muxn/inq87j9",
        "to": "8m5muxn/hlqmo48"
      },
      "8m5muxn/njzfcz8": {
        "as": "value",
        "from": "8m5muxn/njzfcz8",
        "to": "8m5muxn/8m5muxn"
      },
      "8m5muxn/v1nqvl7": {
        "as": "value",
        "from": "8m5muxn/v1nqvl7",
        "to": "8m5muxn/7in78pu"
      },
      "8m5muxn/vyr07ts": {
        "as": "subscribe",
        "from": "8m5muxn/vyr07ts",
        "to": "8m5muxn/njzfcz8"
      },
      "8m5muxn/zci8apj": {
        "as": "value",
        "from": "8m5muxn/zci8apj",
        "to": "8m5muxn/33kmaec"
      },
      "aqfc51v": {
        "as": "fn",
        "from": "aqfc51v",
        "to": "7c7zppx"
      },
      "b2z2580": {
        "as": "true",
        "from": "b2z2580",
        "to": "rmqxb31"
      },
      "bgi56zl": {
        "as": "object",
        "from": "bgi56zl",
        "to": "reop6t4"
      },
      "bqpkucx": {
        "as": "target",
        "from": "bqpkucx",
        "to": "dt9q1m5"
      },
      "by4m1fr": {
        "as": "value",
        "from": "by4m1fr",
        "to": "bgi56zl"
      },
      "c6eig78": {
        "as": "fn",
        "from": "c6eig78",
        "to": "ptak9t2"
      },
      "cha35wd": {
        "as": "scene",
        "from": "cha35wd",
        "to": "dyst9ju"
      },
      "cvop6x9": {
        "as": "renderer",
        "from": "cvop6x9",
        "to": "dyst9ju"
      },
      "cwrlosg": {
        "as": "run",
        "from": "cwrlosg",
        "to": "e9d6mmx"
      },
      "d8w679k": {
        "as": "true",
        "from": "d8w679k",
        "to": "na6fxum"
      },
      "dq4u9ji": {
        "as": "target",
        "from": "dq4u9ji",
        "to": "ek93m5o"
      },
      "dt9q1m5": {
        "as": "value",
        "from": "dt9q1m5",
        "to": "yt5ewda"
      },
      "dyst9ju": {
        "as": "fn",
        "from": "dyst9ju",
        "to": "z552097"
      },
      "e9d6mmx": {
        "as": "otherwise",
        "from": "e9d6mmx",
        "to": "cvop6x9"
      },
      "eamyj81": {
        "as": "scene",
        "from": "eamyj81",
        "to": "lugpx4o"
      },
      "ek93m5o": {
        "as": "target",
        "from": "ek93m5o",
        "to": "4j2wgr9"
      },
      "f288n1z": {
        "as": "pred",
        "from": "f288n1z",
        "to": "na6fxum"
      },
      "f7krd8u": {
        "as": "objects",
        "from": "f7krd8u",
        "to": "jiobf52"
      },
      "fzf3k5e": {
        "as": "RenderPass",
        "from": "fzf3k5e",
        "to": "vwa13pj"
      },
      "fznso76": {
        "as": "fx",
        "from": "fznso76",
        "to": "5m99dxg"
      },
      "gap7au7": {
        "as": "EffectComposer",
        "from": "gap7au7",
        "to": "vwa13pj"
      },
      "hsytqp3": {
        "as": "value",
        "from": "hsytqp3",
        "to": "tgacxe5"
      },
      "i39y0i3": {
        "as": "target",
        "from": "i39y0i3",
        "to": "4a9zo9a"
      },
      "jiobf52": {
        "as": "value",
        "from": "jiobf52",
        "to": "8m5muxn/njzfcz8"
      },
      "jjmvxjj": {
        "as": "fn",
        "from": "jjmvxjj",
        "to": "e9d6mmx"
      },
      "kipwn58": {
        "as": "EffectComposer",
        "from": "kipwn58",
        "to": "qioaglu"
      },
      "l98p3to": {
        "as": "value",
        "from": "l98p3to",
        "to": "4j2wgr9"
      },
      "lsf5igz": {
        "as": "fn",
        "from": "lsf5igz",
        "to": "o9mcda1"
      },
      "lugpx4o": {
        "as": "value",
        "from": "lugpx4o",
        "to": "vc0quhz"
      },
      "m291v0o": {
        "as": "args",
        "from": "m291v0o",
        "to": "b2z2580"
      },
      "mh5ikoc": {
        "as": "pred",
        "from": "mh5ikoc",
        "to": "rmqxb31"
      },
      "na6fxum": {
        "as": "array",
        "from": "na6fxum",
        "to": "z51c26o"
      },
      "o9mcda1": {
        "as": "arg1",
        "from": "o9mcda1",
        "to": "c6eig78"
      },
      "ploozds": {
        "as": "pred",
        "from": "ploozds",
        "to": "lsf5igz"
      },
      "ptak9t2": {
        "as": "animationframe",
        "from": "ptak9t2",
        "to": "8m5muxn/vyr07ts"
      },
      "qioaglu": {
        "as": "lib",
        "from": "qioaglu",
        "to": "8m5muxn/8m5muxn"
      },
      "reop6t4": {
        "as": "entries",
        "from": "reop6t4",
        "to": "d8w679k"
      },
      "rmqxb31": {
        "as": "arg4",
        "from": "rmqxb31",
        "to": "c6eig78"
      },
      "ryjjzqr": {
        "as": "runnable",
        "from": "ryjjzqr",
        "to": "5gt2zai"
      },
      "s208cfn": {
        "as": "target",
        "from": "s208cfn",
        "to": "l98p3to"
      },
      "sfzzxee": {
        "as": "parameters",
        "from": "sfzzxee",
        "to": "ryjjzqr"
      },
      "slle0cq": {
        "as": "target",
        "from": "slle0cq",
        "to": "7peak26"
      },
      "slwyovm": {
        "as": "renderer",
        "from": "slwyovm",
        "to": "jiobf52"
      },
      "svcshll": {
        "as": "canvas",
        "from": "svcshll",
        "to": "lugpx4o"
      },
      "t8adnxm": {
        "as": "canvas",
        "from": "t8adnxm",
        "to": "8m5muxn/zci8apj"
      },
      "tgacxe5": {
        "as": "renderer",
        "from": "tgacxe5",
        "to": "lugpx4o"
      },
      "tkxqh5a": {
        "as": "true",
        "from": "tkxqh5a",
        "to": "lsf5igz"
      },
      "u0f4b37": {
        "as": "otherwise",
        "from": "u0f4b37",
        "to": "bgi56zl"
      },
      "vc0quhz": {
        "as": "value",
        "from": "vc0quhz",
        "to": "0wp18c9"
      },
      "vl4foaa": {
        "as": "RenderPass",
        "from": "vl4foaa",
        "to": "qioaglu"
      },
      "vwa13pj": {
        "as": "fx",
        "from": "vwa13pj",
        "to": "lugpx4o"
      },
      "vzmvbqh": {
        "as": "MotionBlur",
        "from": "vzmvbqh",
        "to": "lugpx4o"
      },
      "wcnk2sw": {
        "as": "fn",
        "from": "wcnk2sw",
        "to": "b2z2580"
      },
      "wgn4yl2": {
        "as": "element",
        "from": "wgn4yl2",
        "to": "sfzzxee"
      },
      "x638fhv": {
        "as": "pred",
        "from": "x638fhv",
        "to": "aqfc51v"
      },
      "xel6go6": {
        "as": "arg0",
        "from": "xel6go6",
        "to": "x638fhv"
      },
      "xgl6r05": {
        "as": "objects",
        "from": "xgl6r05",
        "to": "m291v0o"
      },
      "xmd2fqb": {
        "as": "arg1",
        "from": "xmd2fqb",
        "to": "x638fhv"
      },
      "y2f8gog": {
        "as": "camera",
        "from": "y2f8gog",
        "to": "m291v0o"
      },
      "ya36a1r": {
        "as": "module",
        "from": "ya36a1r",
        "to": "3876w2f"
      },
      "yt5ewda": {
        "as": "nodeFrame",
        "from": "yt5ewda",
        "to": "qioaglu"
      },
      "z51c26o": {
        "as": "children",
        "from": "z51c26o",
        "to": "tkxqh5a"
      },
      "z552097": {
        "as": "arg5",
        "from": "z552097",
        "to": "c6eig78"
      },
      "zs7iowa": {
        "as": "value",
        "from": "zs7iowa",
        "to": "cvop6x9"
      },
      "zz2yk2z": {
        "as": "parent",
        "from": "zz2yk2z",
        "to": "tkxqh5a"
      }
    },
    "id": "@three.setup",
    "name": "three.setup",
    "nodes": {
      "07n9ekk": {
        "id": "07n9ekk",
        "ref": "@memory.cache"
      },
      "0j1jtnu": {
        "id": "0j1jtnu",
        "ref": "@memory.cache"
      },
      "0jbuaw0": {
        "id": "0jbuaw0",
        "ref": "@data.map"
      },
      "0wp18c9": {
        "id": "0wp18c9"
      },
      "0zs05z2": {
        "id": "0zs05z2"
      },
      "1j95u16": {
        "id": "1j95u16",
        "ref": "arg",
        "value": "canvas"
      },
      "1js087x": {
        "id": "1js087x",
        "ref": "arg",
        "value": "_camera: internal"
      },
      "23ppkmp": {
        "id": "23ppkmp",
        "ref": "arg",
        "value": "motionBlur"
      },
      "2pqimov": {
        "id": "2pqimov",
        "ref": "@debug.log",
        "value": "children"
      },
      "2veqlq1": {
        "id": "2veqlq1",
        "ref": "arg",
        "value": "_scene"
      },
      "3876w2f": {
        "id": "3876w2f",
        "ref": "@js.script",
        "value": "return module.MotionBlurPass;"
      },
      "3jf8mf5": {
        "id": "3jf8mf5",
        "ref": "@debug.log",
        "value": "scene"
      },
      "3zxizlg": {
        "id": "3zxizlg",
        "ref": "@debug.log",
        "value": "cached renderer"
      },
      "40aw44l": {
        "id": "40aw44l",
        "ref": "@memory.state"
      },
      "49o12hh": {
        "id": "49o12hh",
        "name": "",
        "ref": "@js.script",
        "value": "const existingObj = scene.getObjectByName(name);\nif(obj && existingObj !== obj){\n  if(existingObj) {\n    console.log(\"removing\", existingObj);\n    scene.remove(existingObj);\n    existingObj.geometry?.dispose();\n    existingObj.material?.dispose();\n  }\n  console.log(\"adding\", obj);\n  obj.name = name;\n  scene.add(obj); \n}\nreturn name;"
      },
      "4a9zo9a": {
        "id": "4a9zo9a",
        "ref": "@data.get",
        "value": "EffectComposer"
      },
      "4dll59e": {
        "__isnodysseus": true,
        "id": "4dll59e",
        "ref": "@debug.log",
        "value": "renderer"
      },
      "4fhebr7": {
        "id": "4fhebr7",
        "ref": "arg",
        "value": "element.0"
      },
      "4fxcgml": {
        "id": "4fxcgml",
        "ref": "arg",
        "value": "_renderer.state"
      },
      "4j2wgr9": {
        "id": "4j2wgr9",
        "ref": "@data.set_mutable",
        "value": "name"
      },
      "4n3yk4e": {
        "id": "4n3yk4e",
        "ref": "@js.script",
        "value": "scene.children.forEach(c => {\n  if(!argobjnames.includes(c.name)){\n    scene.remove(c);\n  }\n})\n\nreturn scene;"
      },
      "5bt6ftb": {
        "id": "5bt6ftb",
        "ref": "@flow.runnable"
      },
      "5gt2zai": {
        "id": "5gt2zai",
        "ref": "@js.create_fn"
      },
      "5ljysw7": {
        "id": "5ljysw7"
      },
      "5m99dxg": {
        "id": "5m99dxg",
        "ref": "@js.script",
        "value": "fx?.forEach((pass, idx) => {\n  // +1 for renderpass\n  if(renderer.passes[idx + 1] !== pass) {\n    if(renderer.passes.length > idx + 1) {\n      console.log(\"removing\", idx)  \n      renderer.removePass(renderer.passes[idx + 1]);\n    }\n    console.log(\"adding fx \", pass)\n    renderer.insertPass(pass, idx + 1);\n  }\n});\n\nif(fx && renderer.passes.length > fx?.length + 1) {\n  renderer.passes.splice(fx.length, renderer.passes.length)\n}"
      },
      "5s8nfmm": {
        "__isnodysseus": true,
        "id": "5s8nfmm",
        "name": "",
        "ref": "@three.renderer"
      },
      "6s18wo7": {
        "id": "6s18wo7",
        "ref": "arg",
        "value": "_camera: internal"
      },
      "7c7zppx": {
        "id": "7c7zppx",
        "ref": "@flow.runnable"
      },
      "7peak26": {
        "id": "7peak26",
        "ref": "@data.get",
        "value": "RenderPass"
      },
      "868gyxt": {
        "id": "868gyxt",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/npm/three/examples/jsm/postprocessing/EffectComposer.js"
      },
      "8ivgw9u": {
        "id": "8ivgw9u",
        "ref": "@data.array"
      },
      "8m5muxn/33kmaec": {
        "id": "8m5muxn/33kmaec",
        "ref": "@memory.cache"
      },
      "8m5muxn/39ivise": {
        "id": "8m5muxn/39ivise"
      },
      "8m5muxn/7in78pu": {
        "id": "8m5muxn/7in78pu",
        "ref": "@data.set_mutable",
        "value": "position.z"
      },
      "8m5muxn/8m5muxn": {
        "id": "8m5muxn/8m5muxn",
        "name": "@three.setup",
        "ref": "return"
      },
      "8m5muxn/gwavfrm": {
        "__isnodysseus": true,
        "id": "8m5muxn/gwavfrm",
        "ref": "@three.scene",
        "value": ""
      },
      "8m5muxn/hlqmo48": {
        "id": "8m5muxn/hlqmo48"
      },
      "8m5muxn/inq87j9": {
        "id": "8m5muxn/inq87j9",
        "name": "",
        "ref": "@memory.cache"
      },
      "8m5muxn/njzfcz8": {
        "id": "8m5muxn/njzfcz8",
        "name": "",
        "ref": "return"
      },
      "8m5muxn/v1nqvl7": {
        "id": "8m5muxn/v1nqvl7",
        "value": "5"
      },
      "8m5muxn/vyr07ts": {
        "id": "8m5muxn/vyr07ts",
        "name": ""
      },
      "8m5muxn/zci8apj": {
        "__isnodysseus": true,
        "id": "8m5muxn/zci8apj",
        "ref": "@three.camera",
        "value": ""
      },
      "a23wspb": {
        "id": "a23wspb",
        "ref": "arg",
        "value": "scene: internal"
      },
      "ad6qpuc": {
        "id": "ad6qpuc",
        "ref": "arg",
        "value": "scene: internal"
      },
      "aqfc51v": {
        "id": "aqfc51v",
        "ref": "@flow.if"
      },
      "b2z2580": {
        "id": "b2z2580",
        "ref": "@flow.ap"
      },
      "b3j4v9i": {
        "id": "b3j4v9i",
        "ref": "arg",
        "value": "element.1"
      },
      "bgi56zl": {
        "id": "bgi56zl",
        "ref": "@flow.default"
      },
      "bmu67sv": {
        "id": "bmu67sv"
      },
      "bqpkucx": {
        "id": "bqpkucx",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/npm/three/examples/jsm/renderers/webgl/nodes/WebGLNodes.js"
      },
      "by4m1fr": {
        "id": "by4m1fr",
        "ref": "arg",
        "value": "objects"
      },
      "c6eig78": {
        "id": "c6eig78",
        "ref": "@data.array"
      },
      "cha35wd": {
        "id": "cha35wd",
        "ref": "arg",
        "value": "_scene: internal"
      },
      "cvop6x9": {
        "id": "cvop6x9",
        "ref": "@flow.default"
      },
      "cwrlosg": {
        "id": "cwrlosg",
        "value": "true"
      },
      "d8w679k": {
        "id": "d8w679k",
        "ref": "@js.script",
        "value": "return entries.filter(e => e[1])"
      },
      "dq4u9ji": {
        "id": "dq4u9ji",
        "ref": "arg",
        "value": "element"
      },
      "dt9q1m5": {
        "id": "dt9q1m5",
        "ref": "@data.get",
        "value": "nodeFrame"
      },
      "dyst9ju": {
        "id": "dyst9ju",
        "ref": "@js.script",
        "value": "if(renderer) {\n  //renderer.render(scene, camera);\n  _lib.nodeFrame.update();\n  renderer.render();\n}"
      },
      "e9d6mmx": {
        "id": "e9d6mmx",
        "ref": "@flow.ap"
      },
      "eamyj81": {
        "id": "eamyj81",
        "ref": "arg",
        "value": "_scene: internal"
      },
      "ek93m5o": {
        "id": "ek93m5o",
        "ref": "@data.get",
        "value": "1"
      },
      "f288n1z": {
        "id": "f288n1z",
        "ref": "arg",
        "value": "objects"
      },
      "f7krd8u": {
        "id": "f7krd8u",
        "ref": "arg",
        "value": "objects"
      },
      "fd0idks": {
        "id": "fd0idks"
      },
      "fsl3xyg": {
        "id": "fsl3xyg",
        "ref": "arg",
        "value": "renderer.state"
      },
      "fzf3k5e": {
        "id": "fzf3k5e",
        "ref": "arg",
        "value": "_lib.RenderPass"
      },
      "fznso76": {
        "id": "fznso76",
        "ref": "arg",
        "value": "fx"
      },
      "gap7au7": {
        "id": "gap7au7",
        "ref": "arg",
        "value": "_lib.EffectComposer"
      },
      "gi5mm16": {
        "id": "gi5mm16",
        "ref": "@flow.runnable"
      },
      "grsb8qa": {
        "id": "grsb8qa",
        "ref": "@flow.runnable"
      },
      "hb31wpa": {
        "__isnodysseus": true,
        "id": "hb31wpa",
        "ref": "@debug.log",
        "value": "renderer"
      },
      "hsytqp3": {
        "id": "hsytqp3",
        "name": "",
        "ref": "@three.renderer"
      },
      "i39y0i3": {
        "id": "i39y0i3",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/npm/three/examples/jsm/postprocessing/EffectComposer.js"
      },
      "iaa28z8": {
        "id": "iaa28z8"
      },
      "iqv0r6w": {
        "id": "iqv0r6w",
        "ref": "arg",
        "value": "objects"
      },
      "jiobf52": {
        "id": "jiobf52"
      },
      "jjmvxjj": {
        "id": "jjmvxjj",
        "ref": "arg",
        "value": "_renderer.set"
      },
      "jmb1j98": {
        "id": "jmb1j98",
        "ref": "arg",
        "value": "canvas_id"
      },
      "kgsdo8c": {
        "id": "kgsdo8c",
        "ref": "@data.object_entries"
      },
      "kipwn58": {
        "id": "kipwn58",
        "ref": "@memory.cache"
      },
      "l8jka3p": {
        "id": "l8jka3p",
        "ref": "@js.script",
        "value": "console.log(\"getting canvas\")\nconsole.log(document.getElementById(canvasid))\nreturn document.getElementById(canvasid);"
      },
      "l98p3to": {
        "id": "l98p3to",
        "ref": "@data.get",
        "value": "0"
      },
      "lqc9zjk": {
        "id": "lqc9zjk",
        "ref": "arg",
        "value": "element.0"
      },
      "lsf5igz": {
        "id": "lsf5igz",
        "ref": "@flow.if"
      },
      "lugpx4o": {
        "id": "lugpx4o",
        "ref": "@js.script",
        "value": "if(!renderer){\n  return;\n}\nconst fxcomposer = new fx.EffectComposer(renderer)\nconst renderpass = new fx.RenderPass(scene, camera);\nfxcomposer.setSize(canvas.width, canvas.height);\nfxcomposer.addPass(renderpass);\nif(MotionBlur) {\n  const pass = new MotionBlur(scene, camera, { samples: 32, expandgeometry: 0.4 });\n  fxcomposer.addPass(pass);\n  pass.renderToScreen = true;\n}\nreturn fxcomposer;"
      },
      "lxc9txq": {
        "id": "lxc9txq",
        "ref": "@math.and"
      },
      "m1wf6yk": {
        "id": "m1wf6yk",
        "ref": "@js.script",
        "value": "console.log(\"getting canvas\")\nconsole.log(document.getElementById(canvasid))\nreturn document.getElementById(canvasid);"
      },
      "m291v0o": {
        "id": "m291v0o"
      },
      "mh5ikoc": {
        "id": "mh5ikoc",
        "ref": "arg",
        "value": "onupdate"
      },
      "mlc5qr1": {
        "id": "mlc5qr1",
        "ref": "arg",
        "value": "scene: internal"
      },
      "na6fxum": {
        "id": "na6fxum",
        "ref": "@flow.if"
      },
      "o9mcda1": {
        "id": "o9mcda1",
        "ref": "@flow.runnable"
      },
      "oi495no": {
        "id": "oi495no",
        "ref": "@flow.if"
      },
      "oko6ilg": {
        "id": "oko6ilg",
        "ref": "arg",
        "value": "element.1"
      },
      "ploozds": {
        "id": "ploozds",
        "ref": "arg",
        "value": "_scene"
      },
      "pnszphc": {
        "id": "pnszphc",
        "ref": "@data.map"
      },
      "ptak9t2": {
        "id": "ptak9t2",
        "name": "",
        "ref": "@flow.ap"
      },
      "qioaglu": {
        "id": "qioaglu"
      },
      "qj1vsle": {
        "id": "qj1vsle",
        "ref": "arg",
        "value": "fx"
      },
      "qjadhr5": {
        "id": "qjadhr5",
        "ref": "arg",
        "value": "objects"
      },
      "r8fh0s5": {
        "id": "r8fh0s5",
        "ref": "arg",
        "value": "canvas_id"
      },
      "reop6t4": {
        "id": "reop6t4",
        "ref": "@data.object_entries"
      },
      "rktckcv": {
        "id": "rktckcv",
        "ref": "@memory.cache"
      },
      "rmqxb31": {
        "id": "rmqxb31",
        "ref": "@flow.if"
      },
      "ryjjzqr": {
        "id": "ryjjzqr",
        "ref": "@flow.runnable"
      },
      "s208cfn": {
        "id": "s208cfn",
        "ref": "arg",
        "value": "element"
      },
      "sfzzxee": {
        "id": "sfzzxee"
      },
      "slle0cq": {
        "id": "slle0cq",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/npm/three/examples/jsm/postprocessing/RenderPass.js"
      },
      "slwyovm": {
        "id": "slwyovm",
        "ref": "arg",
        "value": "_renderer.state"
      },
      "svcshll": {
        "id": "svcshll",
        "ref": "arg",
        "value": "canvas"
      },
      "t8adnxm": {
        "id": "t8adnxm",
        "ref": "arg",
        "value": "canvas"
      },
      "tgacxe5": {
        "id": "tgacxe5",
        "ref": "@memory.cache"
      },
      "tkxqh5a": {
        "id": "tkxqh5a",
        "ref": "@three.update_children"
      },
      "u0f4b37": {
        "id": "u0f4b37",
        "value": "{}"
      },
      "u442czm": {
        "__isnodysseus": true,
        "id": "u442czm",
        "name": "",
        "ref": "@three.renderer"
      },
      "vc0quhz": {
        "id": "vc0quhz",
        "ref": "@memory.cache"
      },
      "vl4foaa": {
        "id": "vl4foaa",
        "ref": "@memory.cache"
      },
      "vqm7da8": {
        "id": "vqm7da8",
        "name": "",
        "ref": "@js.script",
        "value": "const existingObj = scene.getObjectByName(name);\nif(obj && existingObj !== obj){\n  if(existingObj) {\n    scene.remove(existingObj);\n    existingObj.geometry.dispose();\n    existingObj.material.dispose();\n  }\n  obj.name = name;\n  scene.add(obj); \n}\nreturn scene;"
      },
      "vwa13pj": {
        "id": "vwa13pj"
      },
      "vzmvbqh": {
        "id": "vzmvbqh",
        "ref": "@flow.if"
      },
      "wcnk2sw": {
        "id": "wcnk2sw",
        "ref": "arg",
        "value": "onupdate"
      },
      "we37o4h": {
        "id": "we37o4h",
        "ref": "arg",
        "value": "scene: internal"
      },
      "wgn4yl2": {
        "id": "wgn4yl2"
      },
      "wzgnncm": {
        "id": "wzgnncm"
      },
      "x638fhv": {
        "id": "x638fhv",
        "ref": "@math.and"
      },
      "xel6go6": {
        "id": "xel6go6",
        "ref": "arg",
        "value": "_renderer.state"
      },
      "xgl6r05": {
        "id": "xgl6r05",
        "ref": "arg",
        "value": "objects: internal"
      },
      "xmd2fqb": {
        "id": "xmd2fqb",
        "ref": "arg",
        "value": "fx"
      },
      "y2f8gog": {
        "id": "y2f8gog",
        "ref": "arg",
        "value": "_camera: internal"
      },
      "y5h896q": {
        "id": "y5h896q",
        "ref": "@data.object_entries"
      },
      "ya36a1r": {
        "id": "ya36a1r",
        "ref": "@js.import_module",
        "value": "https://cdn.jsdelivr.net/gh/ulyssesdotcodes/threejs-sandbox@94c68f4/motionBlurPass/src/MotionBlurPass.js"
      },
      "yt5ewda": {
        "id": "yt5ewda",
        "ref": "@memory.cache"
      },
      "z51c26o": {
        "id": "z51c26o",
        "ref": "@data.map"
      },
      "z552097": {
        "id": "z552097",
        "ref": "@flow.runnable"
      },
      "z8fj6c2": {
        "id": "z8fj6c2",
        "ref": "@debug.log",
        "value": "cached renderer"
      },
      "zs7iowa": {
        "id": "zs7iowa",
        "ref": "arg",
        "value": "_renderer.state"
      },
      "zxqt40g": {
        "id": "zxqt40g",
        "ref": "arg",
        "value": "scene: internal"
      },
      "zz2yk2z": {
        "id": "zz2yk2z",
        "ref": "arg",
        "value": "_scene"
      }
    },
    "out": "8m5muxn/8m5muxn"
  },
  {
    "edges": {
      "1eft9yl": {
        "as": "args",
        "from": "1eft9yl",
        "to": "dtp36mu"
      },
      "1oskoai": {
        "as": "props",
        "from": "1oskoai",
        "to": "ha9sbe6"
      },
      "3viy8mt": {
        "as": "_initgeo",
        "from": "3viy8mt",
        "to": "args"
      },
      "8dy573e": {
        "as": "display",
        "from": "8dy573e",
        "to": "out"
      },
      "8uiwk65": {
        "as": "fn",
        "from": "8uiwk65",
        "to": "dtp36mu"
      },
      "args": {
        "as": "args",
        "from": "args",
        "to": "out"
      },
      "buoyv1q": {
        "as": "inputgeo",
        "from": "buoyv1q",
        "to": "iwzvdj8"
      },
      "cisb6j6": {
        "as": "buffer",
        "from": "cisb6j6",
        "to": "scte9zo"
      },
      "dtp36mu": {
        "as": "onchange",
        "from": "dtp36mu",
        "to": "1oskoai"
      },
      "e7gu67v": {
        "as": "value",
        "from": "e7gu67v",
        "to": "3viy8mt"
      },
      "ha9sbe6": {
        "as": "arg0",
        "from": "ha9sbe6",
        "to": "yai4q6q"
      },
      "iwzvdj8": {
        "as": "value",
        "from": "iwzvdj8",
        "to": "out"
      },
      "mrpotq6": {
        "as": "value",
        "from": "mrpotq6",
        "to": "1eft9yl"
      },
      "nd6zslm": {
        "as": "initgeo",
        "from": "nd6zslm",
        "to": "iwzvdj8"
      },
      "qapcl0i": {
        "as": "type",
        "from": "qapcl0i",
        "to": "1oskoai"
      },
      "scte9zo": {
        "as": "value",
        "from": "scte9zo",
        "to": "u36qh21"
      },
      "st1qot0": {
        "as": "feedback",
        "from": "st1qot0",
        "to": "args"
      },
      "tkmxaye": {
        "as": "feedback",
        "from": "tkmxaye",
        "to": "iwzvdj8"
      },
      "u36qh21": {
        "as": "initbuffer",
        "from": "u36qh21",
        "to": "iwzvdj8"
      },
      "yai4q6q": {
        "as": "children",
        "from": "yai4q6q",
        "to": "8dy573e"
      }
    },
    "id": "@three.subdivide_lines",
    "nodes": {
      "1eft9yl": {
        "id": "1eft9yl"
      },
      "1oskoai": {
        "id": "1oskoai"
      },
      "3viy8mt": {
        "id": "3viy8mt",
        "ref": "@memory.cache"
      },
      "8dy573e": {
        "id": "8dy573e",
        "ref": "@html.html_element"
      },
      "8uiwk65": {
        "id": "8uiwk65",
        "ref": "arg",
        "value": "feedback.set"
      },
      "args": {
        "id": "args"
      },
      "buoyv1q": {
        "id": "buoyv1q",
        "ref": "arg",
        "value": "geo"
      },
      "cisb6j6": {
        "id": "cisb6j6",
        "ref": "@js.script",
        "value": "return {};"
      },
      "dtp36mu": {
        "id": "dtp36mu",
        "ref": "@flow.ap"
      },
      "e7gu67v": {
        "id": "e7gu67v",
        "ref": "@js.script",
        "value": "const geo = new _lib.THREE.BufferGeometry();\ngeo.setAttribute('position', new _lib.THREE.BufferAttribute( new Float32Array( [\n] ), 3));\ngeo.computeVertexNormals();\n\nreturn geo"
      },
      "ha9sbe6": {
        "id": "ha9sbe6",
        "ref": "@html.html_element",
        "value": "input"
      },
      "iwzvdj8": {
        "id": "iwzvdj8",
        "ref": "@js.script",
        "value": "const item_size = 3;\n\n// Object.entries(inputgeo.attributes)\n//   .forEach(kv => {\n//     initgeo.setAttribute(kv[0], kv[0] === attribute ? inputgeo.getAttribute(kv[0]).clone() : inputgeo.getAttribute(kv[0]));\n//     });\n\ninitgeo.copy(inputgeo);\n\ninitgeo.setAttribute(\"position\", new _lib.THREE.BufferAttribute(new Float32Array(inputgeo.getAttribute(\"position\").count * item_size * 4), item_size));\n\nconst inputPos = inputgeo.getAttribute(\"position\");\nconst initPos = initgeo.getAttribute(\"position\");\nconst count = initPos.count;\nlet origIdx = 0;\nlet origPosition0 = new _lib.THREE.Vector3();\nlet origPosition1 = new _lib.THREE.Vector3();\n\nfor(let i = 0; i < count; i++){\n  origIdx = Math.floor(i / 4);\n  origPosition0.fromBufferAttribute(inputPos, origIdx);\n  origPosition1.fromBufferAttribute(inputPos, (origIdx + 1) % inputPos.count)\n  if(isNaN(origPosition1.x) || isNaN(origPosition0.x)) {\n    throw new Error(\"invalid pos\")\n  }\n  origPosition0.lerp(origPosition1, (i / 4) % 1)\n  initPos.setXYZ(i, origPosition0.x, origPosition0.y, origPosition0.z)\n}\n\ninitPos.needsUpdate = true;\n\n//console.log(inputgeo);\n//console.log(initgeo);\n\nreturn initgeo;"
      },
      "mrpotq6": {
        "id": "mrpotq6",
        "ref": "arg",
        "value": "event.target.checked"
      },
      "nd6zslm": {
        "id": "nd6zslm",
        "ref": "arg",
        "value": "_initgeo: internal"
      },
      "out": {
        "id": "out",
        "name": "@three.subdivide_lines",
        "ref": "return"
      },
      "qapcl0i": {
        "id": "qapcl0i",
        "value": "checkbox"
      },
      "scte9zo": {
        "id": "scte9zo"
      },
      "st1qot0": {
        "id": "st1qot0",
        "ref": "@memory.state"
      },
      "tkmxaye": {
        "id": "tkmxaye",
        "ref": "arg",
        "value": "feedback.state"
      },
      "u36qh21": {
        "id": "u36qh21",
        "ref": "@memory.cache"
      },
      "yai4q6q": {
        "id": "yai4q6q",
        "ref": "@data.array"
      }
    },
    "out": "out"
  },
  {
    "edges": {
      "0zs05z2": {
        "as": "element",
        "from": "0zs05z2",
        "to": "5ljysw7"
      },
      "49o12hh": {
        "as": "fn",
        "from": "49o12hh",
        "to": "grsb8qa"
      },
      "4n3yk4e": {
        "as": "value",
        "from": "4n3yk4e",
        "to": "tkxqh5a"
      },
      "5ljysw7": {
        "as": "parameters",
        "from": "5ljysw7",
        "to": "grsb8qa"
      },
      "a23wspb": {
        "as": "parent",
        "from": "a23wspb",
        "to": "4n3yk4e"
      },
      "ad6qpuc": {
        "as": "parent",
        "from": "ad6qpuc",
        "to": "49o12hh"
      },
      "b3j4v9i": {
        "as": "obj",
        "from": "b3j4v9i",
        "to": "49o12hh"
      },
      "grsb8qa": {
        "as": "fn",
        "from": "grsb8qa",
        "to": "pnszphc"
      },
      "pnszphc": {
        "as": "argobjnames",
        "from": "pnszphc",
        "to": "4n3yk4e"
      },
      "qjadhr5": {
        "as": "array",
        "from": "qjadhr5",
        "to": "pnszphc"
      },
      "zlyzyjv": {
        "as": "args",
        "from": "zlyzyjv",
        "to": "tkxqh5a"
      }
    },
    "id": "@three.update_children",
    "name": "@three.update_children",
    "nodes": {
      "0zs05z2": {
        "id": "0zs05z2"
      },
      "49o12hh": {
        "id": "49o12hh",
        "name": "",
        "ref": "@js.script",
        "value": "const existingObj = parent.getObjectByName(obj.name);\nif(obj && existingObj !== obj){\n  if(existingObj) {\n    parent.remove(existingObj);\n    existingObj.geometry?.dispose();\n    existingObj.material?.dispose();\n  }\n  parent.add(obj); \n}\nreturn obj.name;"
      },
      "4n3yk4e": {
        "id": "4n3yk4e",
        "ref": "@js.script",
        "value": "parent.children.forEach(c => {\n  if(!argobjnames.includes(c.name)){\n    parent.remove(c);\n  }\n})\n\nreturn parent;"
      },
      "5ljysw7": {
        "id": "5ljysw7"
      },
      "a23wspb": {
        "id": "a23wspb",
        "ref": "arg",
        "value": "parent"
      },
      "ad6qpuc": {
        "id": "ad6qpuc",
        "ref": "arg",
        "value": "parent"
      },
      "b3j4v9i": {
        "id": "b3j4v9i",
        "ref": "arg",
        "value": "element"
      },
      "grsb8qa": {
        "id": "grsb8qa",
        "ref": "@flow.runnable"
      },
      "pnszphc": {
        "id": "pnszphc",
        "ref": "@data.map"
      },
      "qjadhr5": {
        "id": "qjadhr5",
        "ref": "arg",
        "value": "children"
      },
      "tkxqh5a": {
        "id": "tkxqh5a",
        "name": "@three.update_children",
        "ref": "return"
      },
      "zlyzyjv": {
        "id": "zlyzyjv"
      }
    },
    "out": "tkxqh5a"
  },
  {
    "edges": {
      "56vngd9": {
        "as": "fn",
        "from": "56vngd9",
        "to": "lqp7o13"
      },
      "5xsve23": {
        "as": "geo",
        "from": "5xsve23",
        "to": "t2oo2w2"
      },
      "gv4m9ja": {
        "as": "point_data",
        "from": "gv4m9ja",
        "to": "yww2wir"
      },
      "iq70jau": {
        "as": "pd",
        "from": "iq70jau",
        "to": "56vngd9"
      },
      "lqp7o13": {
        "as": "fn",
        "from": "lqp7o13",
        "to": "t2oo2w2"
      },
      "pu6r1wt": {
        "as": "args",
        "from": "pu6r1wt",
        "to": "85ca6kk"
      },
      "t2oo2w2": {
        "as": "value",
        "from": "t2oo2w2",
        "to": "85ca6kk"
      },
      "uqnka6f": {
        "as": "feedback",
        "from": "uqnka6f",
        "to": "t2oo2w2"
      },
      "yww2wir": {
        "as": "parameters",
        "from": "yww2wir",
        "to": "lqp7o13"
      }
    },
    "id": "@three.update_position",
    "name": "@three.update_position",
    "nodes": {
      "56vngd9": {
        "id": "56vngd9",
        "ref": "@js.script",
        "value": "pd.position[0] += pd.velocity[0];\npd.position[1] += pd.velocity[1];\npd.position[2] += pd.velocity[2];"
      },
      "5xsve23": {
        "id": "5xsve23",
        "ref": "arg",
        "value": "geo"
      },
      "85ca6kk": {
        "id": "85ca6kk",
        "name": "@three.update_position",
        "ref": "return"
      },
      "gv4m9ja": {
        "id": "gv4m9ja"
      },
      "iq70jau": {
        "id": "iq70jau",
        "ref": "arg",
        "value": "point_data"
      },
      "lqp7o13": {
        "id": "lqp7o13",
        "ref": "@flow.runnable"
      },
      "pu6r1wt": {
        "id": "pu6r1wt"
      },
      "t2oo2w2": {
        "id": "t2oo2w2",
        "ref": "@three.modify_attribute",
        "value": "position"
      },
      "uqnka6f": {
        "id": "uqnka6f",
        "value": "true"
      },
      "yww2wir": {
        "id": "yww2wir"
      }
    },
    "out": "85ca6kk"
  },
  {
    "description": "Use a background worker to run the runnable. The canvas will no longer be usable from the main thread.",
    "edges": {
      "53ej613": {
        "as": "canvas",
        "from": "53ej613",
        "to": "lv74cei"
      },
      "cmxhqcs": {
        "as": "args",
        "from": "cmxhqcs",
        "to": "2gl9npa"
      },
      "lv74cei": {
        "as": "value",
        "from": "lv74cei",
        "to": "2gl9npa"
      },
      "n6ayfvr": {
        "as": "graphid",
        "from": "n6ayfvr",
        "to": "lv74cei"
      },
      "rti7mja": {
        "as": "worker",
        "from": "rti7mja",
        "to": "lv74cei"
      },
      "yc7v57r": {
        "as": "runnable",
        "from": "yc7v57r",
        "to": "lv74cei"
      }
    },
    "id": "@three.worker",
    "name": "@three.worker",
    "nodes": {
      "2gl9npa": {
        "id": "2gl9npa",
        "name": "@three.worker",
        "ref": "return"
      },
      "53ej613": {
        "id": "53ej613",
        "ref": "arg",
        "value": "canvas"
      },
      "cmxhqcs": {
        "id": "cmxhqcs"
      },
      "lv74cei": {
        "id": "lv74cei",
        "ref": "@js.script",
        "value": "if(canvas && worker && canvas.width > 0) {\n  _lib.workerPostMessage(runnable, new Map([['__graphid', {value: graphid}], canvas.width > 0 && [ 'canvas', canvas]].filter(v => v)), canvas.width > 0 ? [canvas] : [])\n}\n\nreturn true"
      },
      "n6ayfvr": {
        "id": "n6ayfvr",
        "ref": "arg",
        "value": "graphid"
      },
      "rti7mja": {
        "id": "rti7mja",
        "ref": "@js.script",
        "value": "return _lib.worker();"
      },
      "yc7v57r": {
        "id": "yc7v57r",
        "ref": "arg",
        "value": "runnable"
      }
    },
    "out": "2gl9npa"
  },
  {
    "edges": {
      "1edrrwq": {
        "as": "fn",
        "from": "1edrrwq",
        "to": "2yur4h7"
      },
      "2yur4h7": {
        "as": "fn",
        "from": "2yur4h7",
        "to": "et5g0m1"
      },
      "3b7bnzm": {
        "as": "hrefstate",
        "from": "3b7bnzm",
        "to": "args"
      },
      "3y8pyc2": {
        "as": "arg3",
        "from": "3y8pyc2",
        "to": "6qkew20"
      },
      "6qkew20": {
        "as": "children",
        "from": "6qkew20",
        "to": "jklqh38"
      },
      "898n6f7": {
        "as": "arg0",
        "from": "898n6f7",
        "to": "91lhfar"
      },
      "8dy573e": {
        "as": "arg4",
        "from": "8dy573e",
        "to": "6qkew20"
      },
      "91lhfar": {
        "as": "onchange",
        "from": "91lhfar",
        "to": "rk7hcxc"
      },
      "9jvfgj1": {
        "as": "fn",
        "from": "9jvfgj1",
        "to": "898n6f7"
      },
      "9tv13iq": {
        "as": "array",
        "from": "9tv13iq",
        "to": "et5g0m1"
      },
      "args": {
        "as": "args",
        "from": "args",
        "to": "main/out"
      },
      "b8wohxv": {
        "as": "type",
        "from": "b8wohxv",
        "to": "rk7hcxc"
      },
      "dd6st1b": {
        "as": "element",
        "from": "dd6st1b",
        "to": "xp4pv1h"
      },
      "et5g0m1": {
        "as": "children",
        "from": "et5g0m1",
        "to": "3y8pyc2"
      },
      "ibmy4bt": {
        "as": "onclick",
        "from": "ibmy4bt",
        "to": "zihm1kd"
      },
      "j2c518b": {
        "as": "args",
        "from": "j2c518b",
        "to": "898n6f7"
      },
      "jdoak4g": {
        "as": "fn",
        "from": "jdoak4g",
        "to": "ibmy4bt"
      },
      "jdufmth": {
        "as": "ns",
        "from": "jdufmth",
        "to": "jdoak4g"
      },
      "jklqh38": {
        "as": "display",
        "from": "jklqh38",
        "to": "main/out"
      },
      "n7aaoju": {
        "as": "children",
        "from": "n7aaoju",
        "to": "8dy573e"
      },
      "pcx97n4": {
        "as": "arg2",
        "from": "pcx97n4",
        "to": "6qkew20"
      },
      "qpiqhgp": {
        "as": "value",
        "from": "qpiqhgp",
        "to": "j2c518b"
      },
      "rk7hcxc": {
        "as": "props",
        "from": "rk7hcxc",
        "to": "pcx97n4"
      },
      "skqnl08": {
        "as": "children",
        "from": "skqnl08",
        "to": "1edrrwq"
      },
      "tad7830": {
        "as": "namespace",
        "from": "tad7830",
        "to": "args"
      },
      "tfwqhqf": {
        "as": "id",
        "from": "tfwqhqf",
        "to": "xdot36k"
      },
      "x200f4j": {
        "as": "list",
        "from": "x200f4j",
        "to": "rk7hcxc"
      },
      "xdot36k": {
        "as": "props",
        "from": "xdot36k",
        "to": "3y8pyc2"
      },
      "xp4pv1h": {
        "as": "text",
        "from": "xp4pv1h",
        "to": "skqnl08"
      },
      "zihm1kd": {
        "as": "props",
        "from": "zihm1kd",
        "to": "8dy573e"
      }
    },
    "id": "three",
    "nodes": {
      "1edrrwq": {
        "__isnodysseus": true,
        "id": "1edrrwq",
        "ref": "@html.html_element",
        "value": "option"
      },
      "2yur4h7": {
        "__isnodysseus": true,
        "id": "2yur4h7",
        "ref": "@flow.runnable"
      },
      "3b7bnzm": {
        "id": "3b7bnzm",
        "ref": "@memory.state"
      },
      "3y8pyc2": {
        "__isnodysseus": true,
        "id": "3y8pyc2",
        "ref": "@html.html_element",
        "value": "datalist"
      },
      "6qkew20": {
        "id": "6qkew20",
        "ref": "@data.array"
      },
      "898n6f7": {
        "__isnodysseus": true,
        "id": "898n6f7",
        "ref": "@flow.ap"
      },
      "8dy573e": {
        "id": "8dy573e",
        "ref": "@html.html_element",
        "value": "button"
      },
      "91lhfar": {
        "__isnodysseus": true,
        "id": "91lhfar",
        "ref": "sequence"
      },
      "9jvfgj1": {
        "__isnodysseus": true,
        "id": "9jvfgj1",
        "ref": "arg",
        "value": "namespace.set"
      },
      "9tv13iq": {
        "__isnodysseus": true,
        "id": "9tv13iq",
        "ref": "@js.script",
        "value": "return _lib.no.runtime.refs()"
      },
      "args": {
        "id": "args"
      },
      "b8wohxv": {
        "__isnodysseus": true,
        "id": "b8wohxv",
        "value": "select"
      },
      "dd6st1b": {
        "__isnodysseus": true,
        "id": "dd6st1b",
        "ref": "arg",
        "value": "element"
      },
      "et5g0m1": {
        "__isnodysseus": true,
        "id": "et5g0m1",
        "ref": "@data.map"
      },
      "ibmy4bt": {
        "id": "ibmy4bt",
        "ref": "@flow.runnable"
      },
      "j2c518b": {
        "id": "j2c518b"
      },
      "jdoak4g": {
        "id": "jdoak4g",
        "ref": "@js.script",
        "value": "localStorage.removeItem(ns);\nlocalStorage.setItem(\"graph_list\", JSON.stringify(JSON.parse(localStorage.getItem(\"graph_list\")).filter(g => g !== ns)))\n_lib.no.runtime.remove_ref(ns);"
      },
      "jdufmth": {
        "__isnodysseus": true,
        "id": "jdufmth",
        "ref": "arg",
        "value": "namespace.state"
      },
      "jklqh38": {
        "id": "jklqh38",
        "ref": "@html.html_element"
      },
      "main/out": {
        "id": "main/out",
        "name": "three",
        "ref": "return"
      },
      "n7aaoju": {
        "id": "n7aaoju",
        "ref": "@html.html_text",
        "value": "delete"
      },
      "pcx97n4": {
        "__isnodysseus": true,
        "id": "pcx97n4",
        "ref": "@html.html_element",
        "value": "input"
      },
      "qpiqhgp": {
        "__isnodysseus": true,
        "id": "qpiqhgp",
        "ref": "arg",
        "value": "event.target.value"
      },
      "rk7hcxc": {
        "id": "rk7hcxc"
      },
      "skqnl08": {
        "__isnodysseus": true,
        "id": "skqnl08",
        "ref": "@html.html_text"
      },
      "tad7830": {
        "__isnodysseus": true,
        "id": "tad7830",
        "ref": "@memory.state"
      },
      "tfwqhqf": {
        "__isnodysseus": true,
        "id": "tfwqhqf",
        "value": "export-list"
      },
      "x200f4j": {
        "__isnodysseus": true,
        "id": "x200f4j",
        "value": "export-list"
      },
      "xdot36k": {
        "id": "xdot36k"
      },
      "xp4pv1h": {
        "__isnodysseus": true,
        "id": "xp4pv1h",
        "ref": "@js.script",
        "value": "return element"
      },
      "zihm1kd": {
        "id": "zihm1kd"
      }
    },
    "out": "main/out"
  }
]
