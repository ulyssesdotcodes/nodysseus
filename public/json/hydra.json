[
  {
    "id": "hydra.node",
    "name": "hydra.node",
    "nodes": [
      {
        "id": "0z8n1c5"
      },
      {
        "id": "v2h2xlr",
        "value": "hydra.synth",
        "ref": "arg"
      },
      {
        "id": "x5tyfuo",
        "value": "self",
        "ref": "arg"
      },
      {
        "id": "2manqin",
        "value": "fn_args",
        "ref": "arg"
      },
      {
        "id": "ysash4u",
        "name": "hydra.node",
        "ref": "return"
      },
      {
        "id": "6bc3v7h",
        "value": "nodeselect",
        "ref": "event_subscriber"
      },
      {
        "id": "cyzymv3",
        "value": "if(selected === _graph.node_id){ \n  self.out(hydra.o1); \n}\n\nreturn self;",
        "ref": "script"
      },
      {
        "id": "6s9fomt",
        "ref": "default"
      },
      {
        "id": "by7pe8d",
        "value": "[]"
      },
      {
        "id": "7etfnud",
        "ref": "append"
      },
      {
        "id": "a6acmeq",
        "ref": "edge_in_argx"
      },
      {
        "id": "r929mj3",
        "value": "1"
      },
      {
        "id": "hqkgc3g",
        "value": "2"
      },
      {
        "id": "v2fv739",
        "ref": "call_method"
      },
      {
        "id": "86kzr1o",
        "ref": "html_element"
      },
      {
        "id": "rzci86a",
        "ref": "array"
      },
      {
        "id": "rjg8gvp",
        "value": "",
        "ref": "run_path"
      },
      {
        "id": "81miuas"
      },
      {
        "id": "5ufoyr4",
        "value": "display"
      },
      {
        "id": "cgajc6r",
        "value": "return.self"
      },
      {
        "id": "pw8kk77",
        "ref": "runnable"
      },
      {
        "id": "sj8tsrv",
        "value": "payload.event.target.value",
        "ref": "arg"
      },
      {
        "id": "18nbcbw",
        "value": "const parent = _lib.no.runtime.get_parent(_graph);\nparent && _lib.no.runtime.add_node(parent, { id: _graph.node_id, ref: 'hydra.node', value: property});",
        "ref": "script"
      },
      {
        "id": "gas8zcj",
        "value": "_graph.value",
        "ref": "arg"
      },
      {
        "id": "cxogbsx",
        "value": "style",
        "ref": "css_styles"
      },
      {
        "id": "cwsnw3u"
      },
      {
        "id": "9tq6wsn"
      },
      {
        "id": "zz29uhx",
        "value": "block"
      },
      {
        "id": "1l6dkyz",
        "value": "2"
      },
      {
        "id": "cyxlvic"
      },
      {
        "id": "2snocuv",
        "value": "3"
      },
      {
        "id": "raqk17g"
      },
      {
        "id": "rm82vm5"
      },
      {
        "id": "me9gz6h",
        "value": "node-info-property"
      },
      {
        "id": "n86ipo8",
        "value": "el.props",
        "ref": "set"
      },
      {
        "id": "ec680ja",
        "value": "1"
      }
    ],
    "edges": [
      {
        "from": "0z8n1c5",
        "to": "ysash4u",
        "as": "args"
      },
      {
        "from": "cyzymv3",
        "to": "ysash4u",
        "as": "return"
      },
      {
        "from": "v2fv739",
        "to": "cyzymv3",
        "as": "self"
      },
      {
        "from": "v2h2xlr",
        "to": "cyzymv3",
        "as": "hydra"
      },
      {
        "from": "x5tyfuo",
        "to": "v2fv739",
        "as": "self"
      },
      {
        "from": "6bc3v7h",
        "to": "cyzymv3",
        "as": "selected"
      },
      {
        "from": "2manqin",
        "to": "6s9fomt",
        "as": "value"
      },
      {
        "from": "by7pe8d",
        "to": "6s9fomt",
        "as": "otherwise"
      },
      {
        "from": "6s9fomt",
        "to": "7etfnud",
        "as": "array"
      },
      {
        "from": "r929mj3",
        "to": "0z8n1c5",
        "as": "arg0"
      },
      {
        "from": "hqkgc3g",
        "to": "0z8n1c5",
        "as": "arg1"
      },
      {
        "from": "7etfnud",
        "to": "v2fv739",
        "as": "fn_args"
      },
      {
        "from": "a6acmeq",
        "to": "7etfnud",
        "as": "item"
      },
      {
        "from": "86kzr1o",
        "to": "ysash4u",
        "as": "display"
      },
      {
        "from": "cxogbsx",
        "to": "rzci86a",
        "as": "arg0"
      },
      {
        "from": "cgajc6r",
        "to": "rjg8gvp",
        "as": "path"
      },
      {
        "from": "81miuas",
        "to": "rjg8gvp",
        "as": "edge"
      },
      {
        "from": "5ufoyr4",
        "to": "81miuas",
        "as": "as"
      },
      {
        "from": "rzci86a",
        "to": "86kzr1o",
        "as": "children"
      },
      {
        "from": "pw8kk77",
        "to": "v2fv739",
        "as": "onchange"
      },
      {
        "from": "18nbcbw",
        "to": "pw8kk77",
        "as": "fn"
      },
      {
        "from": "sj8tsrv",
        "to": "18nbcbw",
        "as": "property"
      },
      {
        "from": "gas8zcj",
        "to": "v2fv739",
        "as": "fn"
      },
      {
        "from": "cwsnw3u",
        "to": "cxogbsx",
        "as": "css_object"
      },
      {
        "from": "9tq6wsn",
        "to": "cwsnw3u",
        "as": "#node-editor-info-canvas"
      },
      {
        "from": "zz29uhx",
        "to": "9tq6wsn",
        "as": "display"
      },
      {
        "from": "1l6dkyz",
        "to": "9tq6wsn",
        "as": "order"
      },
      {
        "from": "2snocuv",
        "to": "cyxlvic",
        "as": "order"
      },
      {
        "from": "cyxlvic",
        "to": "cwsnw3u",
        "as": "#node-info-wrapper .buttons"
      },
      {
        "from": "rjg8gvp",
        "to": "n86ipo8",
        "as": "target"
      },
      {
        "from": "rm82vm5",
        "to": "n86ipo8",
        "as": "value"
      },
      {
        "from": "me9gz6h",
        "to": "rm82vm5",
        "as": "id"
      },
      {
        "from": "raqk17g",
        "to": "cwsnw3u",
        "as": "#node-info-property"
      },
      {
        "from": "ec680ja",
        "to": "raqk17g",
        "as": "order"
      },
      {
        "from": "n86ipo8",
        "to": "rzci86a",
        "as": "arg1"
      }
    ],
    "out": "ysash4u"
  },
  {
    "id": "hydra.setup",
    "name": "hydra.setup",
    "nodes": [
      {
        "id": "pu58ta7",
        "name": "hydra.setup",
        "ref": "return"
      },
      {
        "id": "qprobxb"
      },
      {
        "id": "19c8goa",
        "ref": "return"
      },
      {
        "id": "79c8k2a"
      },
      {
        "id": "sw0c5fc"
      },
      {
        "id": "f2prcop",
        "ref": "if"
      },
      {
        "id": "jvtdqoq",
        "value": "",
        "name": "",
        "ref": "cache"
      },
      {
        "id": "1bcbd8k",
        "value": "",
        "name": "",
        "ref": "cache"
      },
      {
        "id": "ykgl85f",
        "ref": "cache"
      },
      {
        "id": "x8421hb",
        "value": "const el = document.getElementById(\"node-editor-info-canvas\");\nreturn el.getContext('2d');",
        "ref": "cache"
      },
      {
        "id": "g4tqc0m",
        "ref": "runnable"
      },
      {
        "id": "f3dfhza",
        "ref": "cache"
      },
      {
        "id": "3jzhe52",
        "value": "",
        "ref": "if"
      },
      {
        "id": "qdx31wd",
        "value": "const el = document.getElementById(\"node-editor-info-canvas\");\nreturn el.getContext('bitmaprenderer');",
        "ref": "script"
      },
      {
        "id": "fqspyuu",
        "value": "return !!window.OffscreenCanvas",
        "ref": "script"
      },
      {
        "id": "hpazsq4",
        "value": "return document.getElementById(\"hydra-offscreencanvas\");",
        "ref": "script"
      },
      {
        "id": "avq93st",
        "value": "result",
        "ref": "arg"
      },
      {
        "id": "qgxwzi5",
        "value": "infoctx",
        "ref": "arg"
      },
      {
        "id": "803x166",
        "value": "hydractx",
        "ref": "arg"
      },
      {
        "id": "cqfi9ot",
        "ref": "cache"
      },
      {
        "id": "jf0mxpz",
        "value": "offscreencanvas",
        "name": "",
        "ref": "arg"
      },
      {
        "id": "zw4t06q",
        "ref": "cache"
      },
      {
        "id": "j8t2iff",
        "value": "result",
        "ref": "arg"
      },
      {
        "id": "4fniewb",
        "ref": "cache"
      },
      {
        "id": "zolrlvl",
        "value": "offscreencanvas",
        "ref": "arg"
      },
      {
        "id": "mjmfu4c",
        "ref": "cache"
      },
      {
        "id": "ynzph5o",
        "value": "result",
        "ref": "arg"
      },
      {
        "id": "x24z7k1",
        "ref": "cache"
      },
      {
        "id": "gpbjihu",
        "value": "offscreencanvas",
        "ref": "arg"
      },
      {
        "id": "bcitgsj",
        "value": "return offscreencanvas.getContext('webgl');",
        "ref": "script"
      },
      {
        "id": "hnankex"
      },
      {
        "id": "5s6mgy5"
      },
      {
        "id": "f8p7ao2"
      },
      {
        "id": "os2c986"
      },
      {
        "id": "tve04h8",
        "value": "offscreencanvas",
        "ref": "arg"
      },
      {
        "id": "tsf1a0o",
        "value": "false"
      },
      {
        "id": "r94pn5e",
        "value": "return new Uint8ClampedArray(window.innerHeight * window.innerWidth * 4);",
        "ref": "script"
      },
      {
        "id": "f6v6p0v",
        "value": "false"
      },
      {
        "id": "11hj9nd",
        "value": "return new Uint8ClampedArray(window.innerHeight * window.innerWidth * 4);",
        "ref": "script"
      },
      {
        "id": "pdxg53n",
        "ref": "if"
      },
      {
        "id": "cy3hab1",
        "value": "nodeselect",
        "ref": "event_subscriber"
      },
      {
        "id": "v2ss4fq",
        "value": "return selected \n  && _lib.no.runtime.get_node(\n  _lib.no.runtime.get_parentest(_graph),\n    selected).ref === \"hydra.node\";",
        "ref": "script"
      },
      {
        "id": "c207gtt",
        "value": "return new Hydra({detectAudio: false, autoLoop: false, makeGlobal: false, canvas: offscreencanvas});",
        "ref": "script"
      },
      {
        "id": "1c44p6i",
        "ref": "if"
      },
      {
        "id": "0h3xn53",
        "value": "return document.getElementById(\"hydra_canvas\")\n  .getContext('bitmaprenderer')",
        "ref": "script"
      },
      {
        "id": "0qnn9sj",
        "value": "return document.getElementById(\"hydra_canvas\");",
        "ref": "script"
      },
      {
        "id": "81t5o91",
        "value": "return import(\"https://unpkg.com/hydra-synth@1.3.18\")",
        "ref": "script"
      },
      {
        "id": "4gmn3pe",
        "ref": "if"
      },
      {
        "id": "latqq1h",
        "value": "if(infoimage){\n  //console.log(infoctx);\n  //console.log(infoimage);\n  infoctx\n    .transferFromImageBitmap(infoimage);\n}\n\nif(mainimage){\n  //console.log(hydractx);\n  //console.log(mainimage);\n hydractx\n   .transferFromImageBitmap(mainimage);\n}\n\nreturn false;",
        "name": "",
        "ref": "script"
      },
      {
        "id": "22gp1iu",
        "value": "hydralib",
        "ref": "arg"
      },
      {
        "id": "9iovlwg",
        "value": "const cvs = new OffscreenCanvas(window.innerWidth, window.innerHeight);\nreturn cvs;",
        "ref": "script"
      },
      {
        "id": "xcrd7qs",
        "value": "result",
        "ref": "arg"
      },
      {
        "id": "mzmnnm1",
        "ref": "cache"
      },
      {
        "id": "ngnjunp",
        "value": "return offscreencanvas.getContext('webgl');",
        "ref": "script"
      },
      {
        "id": "bce7cc2",
        "value": "offscreencanvas",
        "ref": "arg"
      },
      {
        "id": "j7l55m5",
        "ref": "cache"
      },
      {
        "id": "4md3go8",
        "value": "return offscreencanvas.getContext('webgl');",
        "ref": "script"
      },
      {
        "id": "vysuy4g",
        "value": "offscreencanvas",
        "ref": "arg"
      },
      {
        "id": "53s7x8i",
        "value": "if(!offscreen || (isrunning.flag && isrunning.flag > performance.now() - 1000)){\n  return false;\n}\n\nisrunning.flag = performance.now();\n\nhydra.synth.render(hydra.synth.o1);\nhydra.tick(0);\n\n//console.log(hydra.synth.o1);\n\nif(offscreen['transferToImageBitmap']){\n  isrunning.flag = false;\n  return offscreen.transferToImageBitmap();\n}\n\nconst pixels = offscreenctx.readPixels(\n  0, 0, \n  window.innerWidth, \n  window.innerHeight,\n  offscreenctx.RGBA,\n  offscreenctx.UNSIGNED_BYTE,\n  arr.value\n);\n  \nreturn createImageBitmap(\n  new ImageData( \n    arr.value, \n    window.innerWidth,\n    window.innerHeight\n  ))\n  .catch(e => {isrunning.flag = false; throw e; })\n  .then(bm => {\n    isrunning.flag = false; \n    return bm\n  })",
        "ref": "script"
      },
      {
        "id": "uw00ao6",
        "value": "if(!offscreen || (isrunning.flag && isrunning.flag > performance.now() - 1000)){\n  console.log('skipped ' + isrunning.flag);\n  return false;\n}\n\nisrunning.flag = performance.now();\n\n\nhydra.synth.render(hydra.synth.o0);\nhydra.tick(16.666);\n\nif(offscreen['transferToImageBitmap']){\n  isrunning.flag = false;\n  return offscreen.transferToImageBitmap();\n}\n\nconst pixels = offscreenctx.readPixels(\n  0, 0, \n  window.innerWidth, \n  window.innerHeight,\n  offscreenctx.RGBA,\n  offscreenctx.UNSIGNED_BYTE,\n  arr.value\n);\n  \nreturn createImageBitmap(new ImageData( \n  arr.value, \n  window.innerWidth, \n  window.innerHeight))\n  .catch(e => {isrunning.flag = false; throw e; })\n  .then(bm => {\n    isrunning.flag = false; \n    return bm\n  })",
        "ref": "script"
      }
    ],
    "edges": [
      {
        "from": "qprobxb",
        "to": "pu58ta7",
        "as": "args"
      },
      {
        "from": "19c8goa",
        "to": "pu58ta7",
        "as": "return"
      },
      {
        "from": "79c8k2a",
        "to": "19c8goa",
        "as": "args"
      },
      {
        "from": "sw0c5fc",
        "to": "19c8goa",
        "as": "subscribe"
      },
      {
        "from": "f2prcop",
        "to": "19c8goa",
        "as": "return"
      },
      {
        "from": "ykgl85f",
        "to": "79c8k2a",
        "as": "offscreencanvas"
      },
      {
        "from": "x8421hb",
        "to": "79c8k2a",
        "as": "infoctx"
      },
      {
        "from": "22gp1iu",
        "to": "f2prcop",
        "as": "pred"
      },
      {
        "from": "f3dfhza",
        "to": "f2prcop",
        "as": "true"
      },
      {
        "from": "81t5o91",
        "to": "1bcbd8k",
        "as": "value"
      },
      {
        "from": "3jzhe52",
        "to": "ykgl85f",
        "as": "value"
      },
      {
        "from": "qdx31wd",
        "to": "x8421hb",
        "as": "value"
      },
      {
        "from": "c207gtt",
        "to": "f3dfhza",
        "as": "value"
      },
      {
        "from": "fqspyuu",
        "to": "3jzhe52",
        "as": "pred"
      },
      {
        "from": "hpazsq4",
        "to": "3jzhe52",
        "as": "false"
      },
      {
        "from": "9iovlwg",
        "to": "3jzhe52",
        "as": "true"
      },
      {
        "from": "avq93st",
        "to": "latqq1h",
        "as": "hydra"
      },
      {
        "from": "qgxwzi5",
        "to": "latqq1h",
        "as": "infoctx"
      },
      {
        "from": "803x166",
        "to": "latqq1h",
        "as": "hydractx"
      },
      {
        "from": "uw00ao6",
        "to": "latqq1h",
        "as": "mainimage"
      },
      {
        "from": "cqfi9ot",
        "to": "latqq1h",
        "as": "offscreenctx"
      },
      {
        "from": "jf0mxpz",
        "to": "c207gtt",
        "as": "offscreencanvas"
      },
      {
        "from": "zw4t06q",
        "to": "uw00ao6",
        "as": "isrunning"
      },
      {
        "from": "j8t2iff",
        "to": "uw00ao6",
        "as": "hydra"
      },
      {
        "from": "4fniewb",
        "to": "uw00ao6",
        "as": "arr"
      },
      {
        "from": "zolrlvl",
        "to": "uw00ao6",
        "as": "offscreen"
      },
      {
        "from": "mjmfu4c",
        "to": "53s7x8i",
        "as": "isrunning"
      },
      {
        "from": "ynzph5o",
        "to": "53s7x8i",
        "as": "hydra"
      },
      {
        "from": "x24z7k1",
        "to": "53s7x8i",
        "as": "arr"
      },
      {
        "from": "gpbjihu",
        "to": "53s7x8i",
        "as": "offscreen"
      },
      {
        "from": "bcitgsj",
        "to": "cqfi9ot",
        "as": "value"
      },
      {
        "from": "hnankex",
        "to": "zw4t06q",
        "as": "value"
      },
      {
        "from": "5s6mgy5",
        "to": "4fniewb",
        "as": "value"
      },
      {
        "from": "f8p7ao2",
        "to": "mjmfu4c",
        "as": "value"
      },
      {
        "from": "os2c986",
        "to": "x24z7k1",
        "as": "value"
      },
      {
        "from": "tve04h8",
        "to": "bcitgsj",
        "as": "offscreencanvas"
      },
      {
        "from": "tsf1a0o",
        "to": "hnankex",
        "as": "flag"
      },
      {
        "from": "r94pn5e",
        "to": "5s6mgy5",
        "as": "value"
      },
      {
        "from": "f6v6p0v",
        "to": "f8p7ao2",
        "as": "flag"
      },
      {
        "from": "11hj9nd",
        "to": "os2c986",
        "as": "value"
      },
      {
        "from": "pdxg53n",
        "to": "latqq1h",
        "as": "infoimage"
      },
      {
        "from": "53s7x8i",
        "to": "pdxg53n",
        "as": "true"
      },
      {
        "from": "v2ss4fq",
        "to": "pdxg53n",
        "as": "pred"
      },
      {
        "from": "cy3hab1",
        "to": "v2ss4fq",
        "as": "selected"
      },
      {
        "from": "jvtdqoq",
        "to": "79c8k2a",
        "as": "hydractx"
      },
      {
        "from": "1c44p6i",
        "to": "jvtdqoq",
        "as": "value"
      },
      {
        "from": "0h3xn53",
        "to": "1c44p6i",
        "as": "true"
      },
      {
        "from": "0qnn9sj",
        "to": "1c44p6i",
        "as": "pred"
      },
      {
        "from": "4gmn3pe",
        "to": "g4tqc0m",
        "as": "fn"
      },
      {
        "from": "latqq1h",
        "to": "4gmn3pe",
        "as": "true"
      },
      {
        "from": "xcrd7qs",
        "to": "4gmn3pe",
        "as": "pred"
      },
      {
        "from": "1bcbd8k",
        "to": "79c8k2a",
        "as": "hydralib"
      },
      {
        "from": "g4tqc0m",
        "to": "sw0c5fc",
        "as": "animationframe"
      },
      {
        "from": "ngnjunp",
        "to": "mzmnnm1",
        "as": "value"
      },
      {
        "from": "bce7cc2",
        "to": "ngnjunp",
        "as": "offscreencanvas"
      },
      {
        "from": "mzmnnm1",
        "to": "uw00ao6",
        "as": "offscreenctx"
      },
      {
        "from": "4md3go8",
        "to": "j7l55m5",
        "as": "value"
      },
      {
        "from": "vysuy4g",
        "to": "4md3go8",
        "as": "offscreencanvas"
      },
      {
        "from": "j7l55m5",
        "to": "53s7x8i",
        "as": "offscreenctx"
      }
    ],
    "out": "pu58ta7"
  }
]